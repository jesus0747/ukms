(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Xu={exports:{}},fi={},Zu={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),qh=Symbol.for("react.portal"),Kh=Symbol.for("react.fragment"),Wh=Symbol.for("react.strict_mode"),Hh=Symbol.for("react.profiler"),Vh=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Gh=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Yh=Symbol.for("react.memo"),Xh=Symbol.for("react.lazy"),bl=Symbol.iterator;function Zh(t){return t===null||typeof t!="object"?null:(t=bl&&t[bl]||t["@@iterator"],typeof t=="function"?t:null)}var ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tc=Object.assign,nc={};function Xn(t,e,n){this.props=t,this.context=e,this.refs=nc,this.updater=n||ec}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rc(){}rc.prototype=Xn.prototype;function xo(t,e,n){this.props=t,this.context=e,this.refs=nc,this.updater=n||ec}var wo=xo.prototype=new rc;wo.constructor=xo;tc(wo,Xn.prototype);wo.isPureReactComponent=!0;var jl=Array.isArray,sc=Object.prototype.hasOwnProperty,_o={current:null},ic={key:!0,ref:!0,__self:!0,__source:!0};function ac(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)sc.call(e,r)&&!ic.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Jr,type:t,key:i,ref:a,props:s,_owner:_o.current}}function ef(t,e){return{$$typeof:Jr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ko(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jr}function tf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sl=/\/+/g;function Ri(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tf(""+t.key):e.toString(36)}function Cs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Jr:case qh:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Ri(a,0):r,jl(s)?(n="",t!=null&&(n=t.replace(Sl,"$&/")+"/"),Cs(s,e,n,"",function(c){return c})):s!=null&&(ko(s)&&(s=ef(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Sl,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",jl(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Ri(i,l);a+=Cs(i,e,n,u,s)}else if(u=Zh(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Ri(i,l++),a+=Cs(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function os(t,e,n){if(t==null)return t;var r=[],s=0;return Cs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Se={current:null},Ts={transition:null},rf={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:_o};function oc(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:os,forEach:function(t,e,n){os(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return os(t,function(){e++}),e},toArray:function(t){return os(t,function(e){return e})||[]},only:function(t){if(!ko(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};D.Component=Xn;D.Fragment=Kh;D.Profiler=Hh;D.PureComponent=xo;D.StrictMode=Wh;D.Suspense=Qh;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rf;D.act=oc;D.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tc({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=_o.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)sc.call(e,u)&&!ic.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Jr,type:t.type,key:s,ref:i,props:r,_owner:a}};D.createContext=function(t){return t={$$typeof:Jh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vh,_context:t},t.Consumer=t};D.createElement=ac;D.createFactory=function(t){var e=ac.bind(null,t);return e.type=t,e};D.createRef=function(){return{current:null}};D.forwardRef=function(t){return{$$typeof:Gh,render:t}};D.isValidElement=ko;D.lazy=function(t){return{$$typeof:Xh,_payload:{_status:-1,_result:t},_init:nf}};D.memo=function(t,e){return{$$typeof:Yh,type:t,compare:e===void 0?null:e}};D.startTransition=function(t){var e=Ts.transition;Ts.transition={};try{t()}finally{Ts.transition=e}};D.unstable_act=oc;D.useCallback=function(t,e){return Se.current.useCallback(t,e)};D.useContext=function(t){return Se.current.useContext(t)};D.useDebugValue=function(){};D.useDeferredValue=function(t){return Se.current.useDeferredValue(t)};D.useEffect=function(t,e){return Se.current.useEffect(t,e)};D.useId=function(){return Se.current.useId()};D.useImperativeHandle=function(t,e,n){return Se.current.useImperativeHandle(t,e,n)};D.useInsertionEffect=function(t,e){return Se.current.useInsertionEffect(t,e)};D.useLayoutEffect=function(t,e){return Se.current.useLayoutEffect(t,e)};D.useMemo=function(t,e){return Se.current.useMemo(t,e)};D.useReducer=function(t,e,n){return Se.current.useReducer(t,e,n)};D.useRef=function(t){return Se.current.useRef(t)};D.useState=function(t){return Se.current.useState(t)};D.useSyncExternalStore=function(t,e,n){return Se.current.useSyncExternalStore(t,e,n)};D.useTransition=function(){return Se.current.useTransition()};D.version="18.3.1";Zu.exports=D;var C=Zu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=C,af=Symbol.for("react.element"),of=Symbol.for("react.fragment"),lf=Object.prototype.hasOwnProperty,uf=sf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function lc(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)lf.call(e,r)&&!cf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:af,type:t,key:i,ref:a,props:s,_owner:uf.current}}fi.Fragment=of;fi.jsx=lc;fi.jsxs=lc;Xu.exports=fi;var o=Xu.exports,uc={exports:{}},ze={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,A){var R=E.length;E.push(A);e:for(;0<R;){var Q=R-1>>>1,ne=E[Q];if(0<s(ne,A))E[Q]=A,E[R]=ne,R=Q;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var A=E[0],R=E.pop();if(R!==A){E[0]=R;e:for(var Q=0,ne=E.length,yn=ne>>>1;Q<yn;){var at=2*(Q+1)-1,j=E[at],q=at+1,he=E[q];if(0>s(j,R))q<ne&&0>s(he,j)?(E[Q]=he,E[q]=R,Q=q):(E[Q]=j,E[at]=R,Q=at);else if(q<ne&&0>s(he,R))E[Q]=he,E[q]=R,Q=q;else break e}}return A}function s(E,A){var R=E.sortIndex-A.sortIndex;return R!==0?R:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,x=!1,y=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(E){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=E)r(c),A.sortIndex=A.expirationTime,e(u,A);else break;A=n(c)}}function w(E){if(_=!1,p(E),!y)if(n(u)!==null)y=!0,T(S);else{var A=n(c);A!==null&&M(w,A.startTime-E)}}function S(E,A){y=!1,_&&(_=!1,g(P),P=-1),x=!0;var R=f;try{for(p(A),h=n(u);h!==null&&(!(h.expirationTime>A)||E&&!de());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var ne=Q(h.expirationTime<=A);A=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(u)&&r(u),p(A)}else r(u);h=n(u)}if(h!==null)var yn=!0;else{var at=n(c);at!==null&&M(w,at.startTime-A),yn=!1}return yn}finally{h=null,f=R,x=!1}}var v=!1,k=null,P=-1,K=5,L=-1;function de(){return!(t.unstable_now()-L<K)}function we(){if(k!==null){var E=t.unstable_now();L=E;var A=!0;try{A=k(!0,E)}finally{A?it():(v=!1,k=null)}}else v=!1}var it;if(typeof m=="function")it=function(){m(we)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,Ee=se.port2;se.port1.onmessage=we,it=function(){Ee.postMessage(null)}}else it=function(){b(we,0)};function T(E){k=E,v||(v=!0,it())}function M(E,A){P=b(function(){E(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,T(S))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var R=f;f=A;try{return E()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=f;f=E;try{return A()}finally{f=R}},t.unstable_scheduleCallback=function(E,A,R){var Q=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Q+R:Q):R=Q,E){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=R+ne,E={id:d++,callback:A,priorityLevel:E,startTime:R,expirationTime:ne,sortIndex:-1},R>Q?(E.sortIndex=R,e(c,E),n(u)===null&&E===n(c)&&(_?(g(P),P=-1):_=!0,M(w,R-Q))):(E.sortIndex=ne,e(u,E),y||x||(y=!0,T(S))),E},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(E){var A=f;return function(){var R=f;f=A;try{return E.apply(this,arguments)}finally{f=R}}}})(dc);cc.exports=dc;var df=cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=C,Me=df;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hc=new Set,Tr={};function pn(t,e){Kn(t,e),Kn(t+"Capture",e)}function Kn(t,e){for(Tr[t]=e,t=0;t<e.length;t++)hc.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=Object.prototype.hasOwnProperty,ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nl={},El={};function pf(t){return pa.call(El,t)?!0:pa.call(Nl,t)?!1:ff.test(t)?El[t]=!0:(Nl[t]=!0,!1)}function mf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gf(t,e,n,r){if(e===null||typeof e>"u"||mf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ne(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){me[t]=new Ne(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];me[e]=new Ne(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){me[t]=new Ne(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){me[t]=new Ne(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){me[t]=new Ne(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){me[t]=new Ne(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){me[t]=new Ne(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){me[t]=new Ne(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){me[t]=new Ne(t,5,!1,t.toLowerCase(),null,!1,!1)});var bo=/[\-:]([a-z])/g;function jo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bo,jo);me[e]=new Ne(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bo,jo);me[e]=new Ne(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bo,jo);me[e]=new Ne(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){me[t]=new Ne(t,1,!1,t.toLowerCase(),null,!1,!1)});me.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){me[t]=new Ne(t,1,!1,t.toLowerCase(),null,!0,!0)});function So(t,e,n,r){var s=me.hasOwnProperty(e)?me[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gf(e,n,s,r)&&(n=null),r||s===null?pf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var St=hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ls=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),No=Symbol.for("react.strict_mode"),ma=Symbol.for("react.profiler"),fc=Symbol.for("react.provider"),pc=Symbol.for("react.context"),Eo=Symbol.for("react.forward_ref"),ga=Symbol.for("react.suspense"),ya=Symbol.for("react.suspense_list"),Co=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),mc=Symbol.for("react.offscreen"),Cl=Symbol.iterator;function rr(t){return t===null||typeof t!="object"?null:(t=Cl&&t[Cl]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Li;function hr(t){if(Li===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Li=e&&e[1]||""}return`
`+Li+t}var $i=!1;function Ui(t,e){if(!t||$i)return"";$i=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{$i=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hr(t):""}function yf(t){switch(t.tag){case 5:return hr(t.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return t=Ui(t.type,!1),t;case 11:return t=Ui(t.type.render,!1),t;case 1:return t=Ui(t.type,!0),t;default:return""}}function va(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case En:return"Fragment";case Nn:return"Portal";case ma:return"Profiler";case No:return"StrictMode";case ga:return"Suspense";case ya:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pc:return(t.displayName||"Context")+".Consumer";case fc:return(t._context.displayName||"Context")+".Provider";case Eo:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Co:return e=t.displayName||null,e!==null?e:va(t.type)||"Memo";case Tt:e=t._payload,t=t._init;try{return va(t(e))}catch{}}return null}function vf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(e);case 8:return e===No?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xf(t){var e=gc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function us(t){t._valueTracker||(t._valueTracker=xf(t))}function yc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xa(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vc(t,e){e=e.checked,e!=null&&So(t,"checked",e,!1)}function wa(t,e){vc(t,e);var n=Kt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_a(t,e.type,n):e.hasOwnProperty("defaultValue")&&_a(t,e.type,Kt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _a(t,e,n){(e!=="number"||zs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fr=Array.isArray;function Dn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ka(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ol(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(fr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kt(n)}}function xc(t,e){var n=Kt(e.value),r=Kt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Al(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cs,_c=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yr[e]=yr[t]})});function kc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yr.hasOwnProperty(t)&&yr[t]?(""+e).trim():e+"px"}function bc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var _f=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(t,e){if(e){if(_f[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Sa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function To(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ea=null,Mn=null,zn=null;function Il(t){if(t=Yr(t)){if(typeof Ea!="function")throw Error(N(280));var e=t.stateNode;e&&(e=vi(e),Ea(t.stateNode,t.type,e))}}function jc(t){Mn?zn?zn.push(t):zn=[t]:Mn=t}function Sc(){if(Mn){var t=Mn,e=zn;if(zn=Mn=null,Il(t),e)for(t=0;t<e.length;t++)Il(e[t])}}function Nc(t,e){return t(e)}function Ec(){}var Di=!1;function Cc(t,e,n){if(Di)return t(e,n);Di=!0;try{return Nc(t,e,n)}finally{Di=!1,(Mn!==null||zn!==null)&&(Ec(),Sc())}}function Or(t,e){var n=t.stateNode;if(n===null)return null;var r=vi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ca=!1;if(_t)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Ca=!1}function kf(t,e,n,r,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var vr=!1,Fs=null,Bs=!1,Ta=null,bf={onError:function(t){vr=!0,Fs=t}};function jf(t,e,n,r,s,i,a,l,u){vr=!1,Fs=null,kf.apply(bf,arguments)}function Sf(t,e,n,r,s,i,a,l,u){if(jf.apply(this,arguments),vr){if(vr){var c=Fs;vr=!1,Fs=null}else throw Error(N(198));Bs||(Bs=!0,Ta=c)}}function mn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rl(t){if(mn(t)!==t)throw Error(N(188))}function Nf(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rl(s),t;if(i===r)return Rl(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Pc(t){return t=Nf(t),t!==null?Oc(t):null}function Oc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Oc(t);if(e!==null)return e;t=t.sibling}return null}var Ac=Me.unstable_scheduleCallback,Ll=Me.unstable_cancelCallback,Ef=Me.unstable_shouldYield,Cf=Me.unstable_requestPaint,te=Me.unstable_now,Tf=Me.unstable_getCurrentPriorityLevel,Po=Me.unstable_ImmediatePriority,Ic=Me.unstable_UserBlockingPriority,qs=Me.unstable_NormalPriority,Pf=Me.unstable_LowPriority,Rc=Me.unstable_IdlePriority,pi=null,dt=null;function Of(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Rf,Af=Math.log,If=Math.LN2;function Rf(t){return t>>>=0,t===0?32:31-(Af(t)/If|0)|0}var ds=64,hs=4194304;function pr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ks(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=pr(l):(i&=a,i!==0&&(r=pr(i)))}else a=n&~s,a!==0?r=pr(a):i!==0&&(r=pr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tt(e),s=1<<n,r|=t[n],e&=~s;return r}function Lf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $f(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-tt(i),l=1<<a,u=s[a];u===-1?(!(l&n)||l&r)&&(s[a]=Lf(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Pa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lc(){var t=ds;return ds<<=1,!(ds&4194240)&&(ds=64),t}function Mi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=n}function Uf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Oo(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var F=0;function $c(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uc,Ao,Dc,Mc,zc,Oa=!1,fs=[],$t=null,Ut=null,Dt=null,Ar=new Map,Ir=new Map,Ot=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Ar.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(e.pointerId)}}function ir(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yr(e),e!==null&&Ao(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Mf(t,e,n,r,s){switch(e){case"focusin":return $t=ir($t,t,e,n,r,s),!0;case"dragenter":return Ut=ir(Ut,t,e,n,r,s),!0;case"mouseover":return Dt=ir(Dt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ar.set(i,ir(Ar.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ir.set(i,ir(Ir.get(i)||null,t,e,n,r,s)),!0}return!1}function Fc(t){var e=rn(t.target);if(e!==null){var n=mn(e);if(n!==null){if(e=n.tag,e===13){if(e=Tc(n),e!==null){t.blockedOn=e,zc(t.priority,function(){Dc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ps(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Aa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Na=r,n.target.dispatchEvent(r),Na=null}else return e=Yr(n),e!==null&&Ao(e),t.blockedOn=n,!1;e.shift()}return!0}function Ul(t,e,n){Ps(t)&&n.delete(e)}function zf(){Oa=!1,$t!==null&&Ps($t)&&($t=null),Ut!==null&&Ps(Ut)&&(Ut=null),Dt!==null&&Ps(Dt)&&(Dt=null),Ar.forEach(Ul),Ir.forEach(Ul)}function ar(t,e){t.blockedOn===e&&(t.blockedOn=null,Oa||(Oa=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,zf)))}function Rr(t){function e(s){return ar(s,t)}if(0<fs.length){ar(fs[0],t);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===t&&(r.blockedOn=null)}}for($t!==null&&ar($t,t),Ut!==null&&ar(Ut,t),Dt!==null&&ar(Dt,t),Ar.forEach(e),Ir.forEach(e),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)Fc(n),n.blockedOn===null&&Ot.shift()}var Fn=St.ReactCurrentBatchConfig,Ws=!0;function Ff(t,e,n,r){var s=F,i=Fn.transition;Fn.transition=null;try{F=1,Io(t,e,n,r)}finally{F=s,Fn.transition=i}}function Bf(t,e,n,r){var s=F,i=Fn.transition;Fn.transition=null;try{F=4,Io(t,e,n,r)}finally{F=s,Fn.transition=i}}function Io(t,e,n,r){if(Ws){var s=Aa(t,e,n,r);if(s===null)Gi(t,e,r,Hs,n),$l(t,r);else if(Mf(s,t,e,n,r))r.stopPropagation();else if($l(t,r),e&4&&-1<Df.indexOf(t)){for(;s!==null;){var i=Yr(s);if(i!==null&&Uc(i),i=Aa(t,e,n,r),i===null&&Gi(t,e,r,Hs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gi(t,e,r,null,n)}}var Hs=null;function Aa(t,e,n,r){if(Hs=null,t=To(r),t=rn(t),t!==null)if(e=mn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hs=t,null}function Bc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tf()){case Po:return 1;case Ic:return 4;case qs:case Pf:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Rt=null,Ro=null,Os=null;function qc(){if(Os)return Os;var t,e=Ro,n=e.length,r,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Os=s.slice(t,1<r?1-r:void 0)}function As(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function Dl(){return!1}function Fe(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ps:Dl,this.isPropagationStopped=Dl,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),e}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=Fe(Zn),Qr=Z({},Zn,{view:0,detail:0}),qf=Fe(Qr),zi,Fi,or,mi=Z({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$o,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(zi=t.screenX-or.screenX,Fi=t.screenY-or.screenY):Fi=zi=0,or=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:Fi}}),Ml=Fe(mi),Kf=Z({},mi,{dataTransfer:0}),Wf=Fe(Kf),Hf=Z({},Qr,{relatedTarget:0}),Bi=Fe(Hf),Vf=Z({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=Fe(Vf),Gf=Z({},Zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qf=Fe(Gf),Yf=Z({},Zn,{data:0}),zl=Fe(Yf),Xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ep[t])?!!e[t]:!1}function $o(){return tp}var np=Z({},Qr,{key:function(t){if(t.key){var e=Xf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$o,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rp=Fe(np),sp=Z({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=Fe(sp),ip=Z({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$o}),ap=Fe(ip),op=Z({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lp=Fe(op),up=Z({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cp=Fe(up),dp=[9,13,27,32],Uo=_t&&"CompositionEvent"in window,xr=null;_t&&"documentMode"in document&&(xr=document.documentMode);var hp=_t&&"TextEvent"in window&&!xr,Kc=_t&&(!Uo||xr&&8<xr&&11>=xr),Bl=" ",ql=!1;function Wc(t,e){switch(t){case"keyup":return dp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cn=!1;function fp(t,e){switch(t){case"compositionend":return Hc(e);case"keypress":return e.which!==32?null:(ql=!0,Bl);case"textInput":return t=e.data,t===Bl&&ql?null:t;default:return null}}function pp(t,e){if(Cn)return t==="compositionend"||!Uo&&Wc(t,e)?(t=qc(),Os=Ro=Rt=null,Cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kc&&e.locale!=="ko"?null:e.data;default:return null}}var mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mp[t.type]:e==="textarea"}function Vc(t,e,n,r){jc(r),e=Vs(e,"onChange"),0<e.length&&(n=new Lo("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wr=null,Lr=null;function gp(t){sd(t,0)}function gi(t){var e=On(t);if(yc(e))return t}function yp(t,e){if(t==="change")return e}var Jc=!1;if(_t){var qi;if(_t){var Ki="oninput"in document;if(!Ki){var Wl=document.createElement("div");Wl.setAttribute("oninput","return;"),Ki=typeof Wl.oninput=="function"}qi=Ki}else qi=!1;Jc=qi&&(!document.documentMode||9<document.documentMode)}function Hl(){wr&&(wr.detachEvent("onpropertychange",Gc),Lr=wr=null)}function Gc(t){if(t.propertyName==="value"&&gi(Lr)){var e=[];Vc(e,Lr,t,To(t)),Cc(gp,e)}}function vp(t,e,n){t==="focusin"?(Hl(),wr=e,Lr=n,wr.attachEvent("onpropertychange",Gc)):t==="focusout"&&Hl()}function xp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gi(Lr)}function wp(t,e){if(t==="click")return gi(e)}function _p(t,e){if(t==="input"||t==="change")return gi(e)}function kp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rt=typeof Object.is=="function"?Object.is:kp;function $r(t,e){if(rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pa.call(e,s)||!rt(t[s],e[s]))return!1}return!0}function Vl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jl(t,e){var n=Vl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vl(n)}}function Qc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yc(){for(var t=window,e=zs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zs(t.document)}return e}function Do(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bp(t){var e=Yc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qc(n.ownerDocument.documentElement,n)){if(r!==null&&Do(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Jl(n,i);var a=Jl(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jp=_t&&"documentMode"in document&&11>=document.documentMode,Tn=null,Ia=null,_r=null,Ra=!1;function Gl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ra||Tn==null||Tn!==zs(r)||(r=Tn,"selectionStart"in r&&Do(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&$r(_r,r)||(_r=r,r=Vs(Ia,"onSelect"),0<r.length&&(e=new Lo("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tn)))}function ms(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pn={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},Wi={},Xc={};_t&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function yi(t){if(Wi[t])return Wi[t];if(!Pn[t])return t;var e=Pn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xc)return Wi[t]=e[n];return t}var Zc=yi("animationend"),ed=yi("animationiteration"),td=yi("animationstart"),nd=yi("transitionend"),rd=new Map,Ql="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(t,e){rd.set(t,e),pn(e,[t])}for(var Hi=0;Hi<Ql.length;Hi++){var Vi=Ql[Hi],Sp=Vi.toLowerCase(),Np=Vi[0].toUpperCase()+Vi.slice(1);Ht(Sp,"on"+Np)}Ht(Zc,"onAnimationEnd");Ht(ed,"onAnimationIteration");Ht(td,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(nd,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function Yl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sf(r,e,void 0,t),t.currentTarget=null}function sd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Yl(s,l,c),i=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Yl(s,l,c),i=u}}}if(Bs)throw t=Ta,Bs=!1,Ta=null,t}function V(t,e){var n=e[Ma];n===void 0&&(n=e[Ma]=new Set);var r=t+"__bubble";n.has(r)||(id(e,t,2,!1),n.add(r))}function Ji(t,e,n){var r=0;e&&(r|=4),id(n,t,r,e)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Ur(t){if(!t[gs]){t[gs]=!0,hc.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||Ji(n,!1,t),Ji(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gs]||(e[gs]=!0,Ji("selectionchange",!1,e))}}function id(t,e,n,r){switch(Bc(e)){case 1:var s=Ff;break;case 4:s=Bf;break;default:s=Io}n=s.bind(null,e,n,t),s=void 0,!Ca||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=rn(l),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}l=l.parentNode}}r=r.return}Cc(function(){var c=i,d=To(n),h=[];e:{var f=rd.get(t);if(f!==void 0){var x=Lo,y=t;switch(t){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":x=rp;break;case"focusin":y="focus",x=Bi;break;case"focusout":y="blur",x=Bi;break;case"beforeblur":case"afterblur":x=Bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=ap;break;case Zc:case ed:case td:x=Jf;break;case nd:x=lp;break;case"scroll":x=qf;break;case"wheel":x=cp;break;case"copy":case"cut":case"paste":x=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Fl}var _=(e&4)!==0,b=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var m=c,p;m!==null;){p=m;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=Or(m,g),w!=null&&_.push(Dr(m,w,p)))),b)break;m=m.return}0<_.length&&(f=new x(f,y,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",f&&n!==Na&&(y=n.relatedTarget||n.fromElement)&&(rn(y)||y[kt]))break e;if((x||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=c,y=y?rn(y):null,y!==null&&(b=mn(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(_=Ml,w="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Fl,w="onPointerLeave",g="onPointerEnter",m="pointer"),b=x==null?f:On(x),p=y==null?f:On(y),f=new _(w,m+"leave",x,n,d),f.target=b,f.relatedTarget=p,w=null,rn(d)===c&&(_=new _(g,m+"enter",y,n,d),_.target=p,_.relatedTarget=b,w=_),b=w,x&&y)t:{for(_=x,g=y,m=0,p=_;p;p=vn(p))m++;for(p=0,w=g;w;w=vn(w))p++;for(;0<m-p;)_=vn(_),m--;for(;0<p-m;)g=vn(g),p--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=vn(_),g=vn(g)}_=null}else _=null;x!==null&&Xl(h,f,x,_,!1),y!==null&&b!==null&&Xl(h,b,y,_,!0)}}e:{if(f=c?On(c):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var S=yp;else if(Kl(f))if(Jc)S=_p;else{S=xp;var v=vp}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=wp);if(S&&(S=S(t,c))){Vc(h,S,n,d);break e}v&&v(t,f,c),t==="focusout"&&(v=f._wrapperState)&&v.controlled&&f.type==="number"&&_a(f,"number",f.value)}switch(v=c?On(c):window,t){case"focusin":(Kl(v)||v.contentEditable==="true")&&(Tn=v,Ia=c,_r=null);break;case"focusout":_r=Ia=Tn=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,Gl(h,n,d);break;case"selectionchange":if(jp)break;case"keydown":case"keyup":Gl(h,n,d)}var k;if(Uo)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Cn?Wc(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Kc&&n.locale!=="ko"&&(Cn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Cn&&(k=qc()):(Rt=d,Ro="value"in Rt?Rt.value:Rt.textContent,Cn=!0)),v=Vs(c,P),0<v.length&&(P=new zl(P,t,null,n,d),h.push({event:P,listeners:v}),k?P.data=k:(k=Hc(n),k!==null&&(P.data=k)))),(k=hp?fp(t,n):pp(t,n))&&(c=Vs(c,"onBeforeInput"),0<c.length&&(d=new zl("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=k))}sd(h,e)})}function Dr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Or(t,n),i!=null&&r.unshift(Dr(t,i,s)),i=Or(t,e),i!=null&&r.push(Dr(t,i,s))),t=t.return}return r}function vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xl(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Or(n,i),u!=null&&a.unshift(Dr(n,u,l))):s||(u=Or(n,i),u!=null&&a.push(Dr(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Cp=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function Zl(t){return(typeof t=="string"?t:""+t).replace(Cp,`
`).replace(Tp,"")}function ys(t,e,n){if(e=Zl(e),Zl(t)!==e&&n)throw Error(N(425))}function Js(){}var La=null,$a=null;function Ua(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,eu=typeof Promise=="function"?Promise:void 0,Op=typeof queueMicrotask=="function"?queueMicrotask:typeof eu<"u"?function(t){return eu.resolve(null).then(t).catch(Ap)}:Da;function Ap(t){setTimeout(function(){throw t})}function Qi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Rr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Rr(e)}function Mt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var er=Math.random().toString(36).slice(2),ct="__reactFiber$"+er,Mr="__reactProps$"+er,kt="__reactContainer$"+er,Ma="__reactEvents$"+er,Ip="__reactListeners$"+er,Rp="__reactHandles$"+er;function rn(t){var e=t[ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kt]||n[ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tu(t);t!==null;){if(n=t[ct])return n;t=tu(t)}return e}t=n,n=t.parentNode}return null}function Yr(t){return t=t[ct]||t[kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function On(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function vi(t){return t[Mr]||null}var za=[],An=-1;function Vt(t){return{current:t}}function J(t){0>An||(t.current=za[An],za[An]=null,An--)}function H(t,e){An++,za[An]=t.current,t.current=e}var Wt={},xe=Vt(Wt),Ae=Vt(!1),un=Wt;function Wn(t,e){var n=t.type.contextTypes;if(!n)return Wt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function Gs(){J(Ae),J(xe)}function nu(t,e,n){if(xe.current!==Wt)throw Error(N(168));H(xe,e),H(Ae,n)}function ad(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,vf(t)||"Unknown",s));return Z({},n,r)}function Qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wt,un=xe.current,H(xe,t),H(Ae,Ae.current),!0}function ru(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=ad(t,e,un),r.__reactInternalMemoizedMergedChildContext=t,J(Ae),J(xe),H(xe,t)):J(Ae),H(Ae,n)}var yt=null,xi=!1,Yi=!1;function od(t){yt===null?yt=[t]:yt.push(t)}function Lp(t){xi=!0,od(t)}function Jt(){if(!Yi&&yt!==null){Yi=!0;var t=0,e=F;try{var n=yt;for(F=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yt=null,xi=!1}catch(s){throw yt!==null&&(yt=yt.slice(t+1)),Ac(Po,Jt),s}finally{F=e,Yi=!1}}return null}var In=[],Rn=0,Ys=null,Xs=0,Be=[],qe=0,cn=null,vt=1,xt="";function Zt(t,e){In[Rn++]=Xs,In[Rn++]=Ys,Ys=t,Xs=e}function ld(t,e,n){Be[qe++]=vt,Be[qe++]=xt,Be[qe++]=cn,cn=t;var r=vt;t=xt;var s=32-tt(r)-1;r&=~(1<<s),n+=1;var i=32-tt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,vt=1<<32-tt(e)+s|n<<s|r,xt=i+t}else vt=1<<i|n<<s|r,xt=t}function Mo(t){t.return!==null&&(Zt(t,1),ld(t,1,0))}function zo(t){for(;t===Ys;)Ys=In[--Rn],In[Rn]=null,Xs=In[--Rn],In[Rn]=null;for(;t===cn;)cn=Be[--qe],Be[qe]=null,xt=Be[--qe],Be[qe]=null,vt=Be[--qe],Be[qe]=null}var De=null,Ue=null,G=!1,et=null;function ud(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function su(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,De=t,Ue=Mt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,De=t,Ue=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:vt,overflow:xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,De=t,Ue=null,!0):!1;default:return!1}}function Fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ba(t){if(G){var e=Ue;if(e){var n=e;if(!su(t,e)){if(Fa(t))throw Error(N(418));e=Mt(n.nextSibling);var r=De;e&&su(t,e)?ud(r,n):(t.flags=t.flags&-4097|2,G=!1,De=t)}}else{if(Fa(t))throw Error(N(418));t.flags=t.flags&-4097|2,G=!1,De=t}}}function iu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;De=t}function vs(t){if(t!==De)return!1;if(!G)return iu(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ua(t.type,t.memoizedProps)),e&&(e=Ue)){if(Fa(t))throw cd(),Error(N(418));for(;e;)ud(t,e),e=Mt(e.nextSibling)}if(iu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ue=Mt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ue=null}}else Ue=De?Mt(t.stateNode.nextSibling):null;return!0}function cd(){for(var t=Ue;t;)t=Mt(t.nextSibling)}function Hn(){Ue=De=null,G=!1}function Fo(t){et===null?et=[t]:et.push(t)}var $p=St.ReactCurrentBatchConfig;function lr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function xs(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function au(t){var e=t._init;return e(t._payload)}function dd(t){function e(g,m){if(t){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=qt(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,p,w){return m===null||m.tag!==6?(m=sa(p,g.mode,w),m.return=g,m):(m=s(m,p),m.return=g,m)}function u(g,m,p,w){var S=p.type;return S===En?d(g,m,p.props.children,w,p.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tt&&au(S)===m.type)?(w=s(m,p.props),w.ref=lr(g,m,p),w.return=g,w):(w=Ms(p.type,p.key,p.props,null,g.mode,w),w.ref=lr(g,m,p),w.return=g,w)}function c(g,m,p,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=ia(p,g.mode,w),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,w,S){return m===null||m.tag!==7?(m=ln(p,g.mode,w,S),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=sa(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ls:return p=Ms(m.type,m.key,m.props,null,g.mode,p),p.ref=lr(g,null,m),p.return=g,p;case Nn:return m=ia(m,g.mode,p),m.return=g,m;case Tt:var w=m._init;return h(g,w(m._payload),p)}if(fr(m)||rr(m))return m=ln(m,g.mode,p,null),m.return=g,m;xs(g,m)}return null}function f(g,m,p,w){var S=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(g,m,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ls:return p.key===S?u(g,m,p,w):null;case Nn:return p.key===S?c(g,m,p,w):null;case Tt:return S=p._init,f(g,m,S(p._payload),w)}if(fr(p)||rr(p))return S!==null?null:d(g,m,p,w,null);xs(g,p)}return null}function x(g,m,p,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,l(m,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ls:return g=g.get(w.key===null?p:w.key)||null,u(m,g,w,S);case Nn:return g=g.get(w.key===null?p:w.key)||null,c(m,g,w,S);case Tt:var v=w._init;return x(g,m,p,v(w._payload),S)}if(fr(w)||rr(w))return g=g.get(p)||null,d(m,g,w,S,null);xs(m,w)}return null}function y(g,m,p,w){for(var S=null,v=null,k=m,P=m=0,K=null;k!==null&&P<p.length;P++){k.index>P?(K=k,k=null):K=k.sibling;var L=f(g,k,p[P],w);if(L===null){k===null&&(k=K);break}t&&k&&L.alternate===null&&e(g,k),m=i(L,m,P),v===null?S=L:v.sibling=L,v=L,k=K}if(P===p.length)return n(g,k),G&&Zt(g,P),S;if(k===null){for(;P<p.length;P++)k=h(g,p[P],w),k!==null&&(m=i(k,m,P),v===null?S=k:v.sibling=k,v=k);return G&&Zt(g,P),S}for(k=r(g,k);P<p.length;P++)K=x(k,g,P,p[P],w),K!==null&&(t&&K.alternate!==null&&k.delete(K.key===null?P:K.key),m=i(K,m,P),v===null?S=K:v.sibling=K,v=K);return t&&k.forEach(function(de){return e(g,de)}),G&&Zt(g,P),S}function _(g,m,p,w){var S=rr(p);if(typeof S!="function")throw Error(N(150));if(p=S.call(p),p==null)throw Error(N(151));for(var v=S=null,k=m,P=m=0,K=null,L=p.next();k!==null&&!L.done;P++,L=p.next()){k.index>P?(K=k,k=null):K=k.sibling;var de=f(g,k,L.value,w);if(de===null){k===null&&(k=K);break}t&&k&&de.alternate===null&&e(g,k),m=i(de,m,P),v===null?S=de:v.sibling=de,v=de,k=K}if(L.done)return n(g,k),G&&Zt(g,P),S;if(k===null){for(;!L.done;P++,L=p.next())L=h(g,L.value,w),L!==null&&(m=i(L,m,P),v===null?S=L:v.sibling=L,v=L);return G&&Zt(g,P),S}for(k=r(g,k);!L.done;P++,L=p.next())L=x(k,g,P,L.value,w),L!==null&&(t&&L.alternate!==null&&k.delete(L.key===null?P:L.key),m=i(L,m,P),v===null?S=L:v.sibling=L,v=L);return t&&k.forEach(function(we){return e(g,we)}),G&&Zt(g,P),S}function b(g,m,p,w){if(typeof p=="object"&&p!==null&&p.type===En&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ls:e:{for(var S=p.key,v=m;v!==null;){if(v.key===S){if(S=p.type,S===En){if(v.tag===7){n(g,v.sibling),m=s(v,p.props.children),m.return=g,g=m;break e}}else if(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tt&&au(S)===v.type){n(g,v.sibling),m=s(v,p.props),m.ref=lr(g,v,p),m.return=g,g=m;break e}n(g,v);break}else e(g,v);v=v.sibling}p.type===En?(m=ln(p.props.children,g.mode,w,p.key),m.return=g,g=m):(w=Ms(p.type,p.key,p.props,null,g.mode,w),w.ref=lr(g,m,p),w.return=g,g=w)}return a(g);case Nn:e:{for(v=p.key;m!==null;){if(m.key===v)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=ia(p,g.mode,w),m.return=g,g=m}return a(g);case Tt:return v=p._init,b(g,m,v(p._payload),w)}if(fr(p))return y(g,m,p,w);if(rr(p))return _(g,m,p,w);xs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,p),m.return=g,g=m):(n(g,m),m=sa(p,g.mode,w),m.return=g,g=m),a(g)):n(g,m)}return b}var Vn=dd(!0),hd=dd(!1),Zs=Vt(null),ei=null,Ln=null,Bo=null;function qo(){Bo=Ln=ei=null}function Ko(t){var e=Zs.current;J(Zs),t._currentValue=e}function qa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bn(t,e){ei=t,Bo=Ln=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function Ve(t){var e=t._currentValue;if(Bo!==t)if(t={context:t,memoizedValue:e,next:null},Ln===null){if(ei===null)throw Error(N(308));Ln=t,ei.dependencies={lanes:0,firstContext:t}}else Ln=Ln.next=t;return e}var sn=null;function Wo(t){sn===null?sn=[t]:sn.push(t)}function fd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wo(e)):(n.next=s.next,s.next=n),e.interleaved=n,bt(t,r)}function bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pt=!1;function Ho(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bt(t,n)}return s=r.interleaved,s===null?(e.next=e,Wo(r)):(e.next=s.next,s.next=e),r.interleaved=e,bt(t,n)}function Is(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oo(t,n)}}function ou(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ti(t,e,n,r){var s=t.updateQueue;Pt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,l=i;do{var f=l.lane,x=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,_=l;switch(f=e,x=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(x,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(x,h,f):y,f==null)break e;h=Z({},h,f);break e;case 2:Pt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=x,u=h):d=d.next=x,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hn|=a,t.lanes=a,t.memoizedState=h}}function lu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Xr={},ht=Vt(Xr),zr=Vt(Xr),Fr=Vt(Xr);function an(t){if(t===Xr)throw Error(N(174));return t}function Vo(t,e){switch(H(Fr,e),H(zr,t),H(ht,Xr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ba(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ba(e,t)}J(ht),H(ht,e)}function Jn(){J(ht),J(zr),J(Fr)}function md(t){an(Fr.current);var e=an(ht.current),n=ba(e,t.type);e!==n&&(H(zr,t),H(ht,n))}function Jo(t){zr.current===t&&(J(ht),J(zr))}var Y=Vt(0);function ni(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xi=[];function Go(){for(var t=0;t<Xi.length;t++)Xi[t]._workInProgressVersionPrimary=null;Xi.length=0}var Rs=St.ReactCurrentDispatcher,Zi=St.ReactCurrentBatchConfig,dn=0,X=null,oe=null,ue=null,ri=!1,kr=!1,Br=0,Up=0;function ge(){throw Error(N(321))}function Qo(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rt(t[n],e[n]))return!1;return!0}function Yo(t,e,n,r,s,i){if(dn=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rs.current=t===null||t.memoizedState===null?Fp:Bp,t=n(r,s),kr){i=0;do{if(kr=!1,Br=0,25<=i)throw Error(N(301));i+=1,ue=oe=null,e.updateQueue=null,Rs.current=qp,t=n(r,s)}while(kr)}if(Rs.current=si,e=oe!==null&&oe.next!==null,dn=0,ue=oe=X=null,ri=!1,e)throw Error(N(300));return t}function Xo(){var t=Br!==0;return Br=0,t}function lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?X.memoizedState=ue=t:ue=ue.next=t,ue}function Je(){if(oe===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=ue===null?X.memoizedState:ue.next;if(e!==null)ue=e,oe=t;else{if(t===null)throw Error(N(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?X.memoizedState=ue=t:ue=ue.next=t}return ue}function qr(t,e){return typeof e=="function"?e(t):e}function ea(t){var e=Je(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((dn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,a=r):u=u.next=h,X.lanes|=d,hn|=d}c=c.next}while(c!==null&&c!==i);u===null?a=r:u.next=l,rt(r,e.memoizedState)||(Oe=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,hn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ta(t){var e=Je(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);rt(i,e.memoizedState)||(Oe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function gd(){}function yd(t,e){var n=X,r=Je(),s=e(),i=!rt(r.memoizedState,s);if(i&&(r.memoizedState=s,Oe=!0),r=r.queue,Zo(wd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,Kr(9,xd.bind(null,n,r,s,e),void 0,null),ce===null)throw Error(N(349));dn&30||vd(n,e,s)}return s}function vd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xd(t,e,n,r){e.value=n,e.getSnapshot=r,_d(e)&&kd(t)}function wd(t,e,n){return n(function(){_d(e)&&kd(t)})}function _d(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rt(t,n)}catch{return!0}}function kd(t){var e=bt(t,1);e!==null&&nt(e,t,1,-1)}function uu(t){var e=lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:t},e.queue=t,t=t.dispatch=zp.bind(null,X,t),[e.memoizedState,t]}function Kr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bd(){return Je().memoizedState}function Ls(t,e,n,r){var s=lt();X.flags|=t,s.memoizedState=Kr(1|e,n,void 0,r===void 0?null:r)}function wi(t,e,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(oe!==null){var a=oe.memoizedState;if(i=a.destroy,r!==null&&Qo(r,a.deps)){s.memoizedState=Kr(e,n,i,r);return}}X.flags|=t,s.memoizedState=Kr(1|e,n,i,r)}function cu(t,e){return Ls(8390656,8,t,e)}function Zo(t,e){return wi(2048,8,t,e)}function jd(t,e){return wi(4,2,t,e)}function Sd(t,e){return wi(4,4,t,e)}function Nd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ed(t,e,n){return n=n!=null?n.concat([t]):null,wi(4,4,Nd.bind(null,e,t),n)}function el(){}function Cd(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Td(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pd(t,e,n){return dn&21?(rt(n,e)||(n=Lc(),X.lanes|=n,hn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=n)}function Dp(t,e){var n=F;F=n!==0&&4>n?n:4,t(!0);var r=Zi.transition;Zi.transition={};try{t(!1),e()}finally{F=n,Zi.transition=r}}function Od(){return Je().memoizedState}function Mp(t,e,n){var r=Bt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(t))Id(e,n);else if(n=fd(t,e,n,r),n!==null){var s=je();nt(n,t,r,s),Rd(n,e,r)}}function zp(t,e,n){var r=Bt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))Id(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,rt(l,a)){var u=e.interleaved;u===null?(s.next=s,Wo(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=fd(t,e,s,r),n!==null&&(s=je(),nt(n,t,r,s),Rd(n,e,r))}}function Ad(t){var e=t.alternate;return t===X||e!==null&&e===X}function Id(t,e){kr=ri=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oo(t,n)}}var si={readContext:Ve,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Fp={readContext:Ve,useCallback:function(t,e){return lt().memoizedState=[t,e===void 0?null:e],t},useContext:Ve,useEffect:cu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ls(4194308,4,Nd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ls(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ls(4,2,t,e)},useMemo:function(t,e){var n=lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mp.bind(null,X,t),[r.memoizedState,t]},useRef:function(t){var e=lt();return t={current:t},e.memoizedState=t},useState:uu,useDebugValue:el,useDeferredValue:function(t){return lt().memoizedState=t},useTransition:function(){var t=uu(!1),e=t[0];return t=Dp.bind(null,t[1]),lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=X,s=lt();if(G){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),ce===null)throw Error(N(349));dn&30||vd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,cu(wd.bind(null,r,i,t),[t]),r.flags|=2048,Kr(9,xd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=lt(),e=ce.identifierPrefix;if(G){var n=xt,r=vt;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Br++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Up++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bp={readContext:Ve,useCallback:Cd,useContext:Ve,useEffect:Zo,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:Sd,useMemo:Td,useReducer:ea,useRef:bd,useState:function(){return ea(qr)},useDebugValue:el,useDeferredValue:function(t){var e=Je();return Pd(e,oe.memoizedState,t)},useTransition:function(){var t=ea(qr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:yd,useId:Od,unstable_isNewReconciler:!1},qp={readContext:Ve,useCallback:Cd,useContext:Ve,useEffect:Zo,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:Sd,useMemo:Td,useReducer:ta,useRef:bd,useState:function(){return ta(qr)},useDebugValue:el,useDeferredValue:function(t){var e=Je();return oe===null?e.memoizedState=t:Pd(e,oe.memoizedState,t)},useTransition:function(){var t=ta(qr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:gd,useSyncExternalStore:yd,useId:Od,unstable_isNewReconciler:!1};function Ye(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ka(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _i={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=je(),s=Bt(t),i=wt(r,s);i.payload=e,n!=null&&(i.callback=n),e=zt(t,i,s),e!==null&&(nt(e,t,s,r),Is(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=je(),s=Bt(t),i=wt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zt(t,i,s),e!==null&&(nt(e,t,s,r),Is(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=je(),r=Bt(t),s=wt(n,r);s.tag=2,e!=null&&(s.callback=e),e=zt(t,s,r),e!==null&&(nt(e,t,r,n),Is(e,t,r))}};function du(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!$r(n,r)||!$r(s,i):!0}function Ld(t,e,n){var r=!1,s=Wt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Ie(e)?un:xe.current,r=e.contextTypes,i=(r=r!=null)?Wn(t,s):Wt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_i,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_i.enqueueReplaceState(e,e.state,null)}function Wa(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ho(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Ie(e)?un:xe.current,s.context=Wn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ka(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_i.enqueueReplaceState(s,s.state,null),ti(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Gn(t,e){try{var n="",r=e;do n+=yf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function na(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ha(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function $d(t,e,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ai||(ai=!0,no=r),Ha(t,e)},n}function Ud(t,e,n){n=wt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ha(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ha(t,e),typeof r!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function fu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sm.bind(null,t,e,n),e.then(t,t))}function pu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wt(-1,1),e.tag=2,zt(n,e,1))),n.lanes|=1),t)}var Wp=St.ReactCurrentOwner,Oe=!1;function be(t,e,n,r){e.child=t===null?hd(e,null,n,r):Vn(e,t.child,n,r)}function gu(t,e,n,r,s){n=n.render;var i=e.ref;return Bn(e,s),r=Yo(t,e,n,r,i,s),n=Xo(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(G&&n&&Mo(e),e.flags|=1,be(t,e,r,s),e.child)}function yu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ll(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Dd(t,e,i,r,s)):(t=Ms(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(a,r)&&t.ref===e.ref)return jt(t,e,s)}return e.flags|=1,t=qt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Dd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if($r(i,r)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,jt(t,e,s)}return Va(t,e,n,r,s)}function Md(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Un,$e),$e|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Un,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,H(Un,$e),$e|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,H(Un,$e),$e|=r;return be(t,e,s,n),e.child}function zd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Va(t,e,n,r,s){var i=Ie(n)?un:xe.current;return i=Wn(e,i),Bn(e,s),n=Yo(t,e,n,r,i,s),r=Xo(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(G&&r&&Mo(e),e.flags|=1,be(t,e,n,s),e.child)}function vu(t,e,n,r,s){if(Ie(n)){var i=!0;Qs(e)}else i=!1;if(Bn(e,s),e.stateNode===null)$s(t,e),Ld(e,n,r),Wa(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ve(c):(c=Ie(n)?un:xe.current,c=Wn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==c)&&hu(e,a,r,c),Pt=!1;var f=e.memoizedState;a.state=f,ti(e,r,a,s),u=e.memoizedState,l!==r||f!==u||Ae.current||Pt?(typeof d=="function"&&(Ka(e,n,d,r),u=e.memoizedState),(l=Pt||du(e,n,l,r,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,pd(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Ye(e.type,l),a.props=c,h=e.pendingProps,f=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ve(u):(u=Ie(n)?un:xe.current,u=Wn(e,u));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==u)&&hu(e,a,r,u),Pt=!1,f=e.memoizedState,a.state=f,ti(e,r,a,s);var y=e.memoizedState;l!==h||f!==y||Ae.current||Pt?(typeof x=="function"&&(Ka(e,n,x,r),y=e.memoizedState),(c=Pt||du(e,n,c,r,f,y,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ja(t,e,n,r,i,s)}function Ja(t,e,n,r,s,i){zd(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&ru(e,n,!1),jt(t,e,i);r=e.stateNode,Wp.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Vn(e,t.child,null,i),e.child=Vn(e,null,l,i)):be(t,e,l,i),e.memoizedState=r.state,s&&ru(e,n,!0),e.child}function Fd(t){var e=t.stateNode;e.pendingContext?nu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nu(t,e.context,!1),Vo(t,e.containerInfo)}function xu(t,e,n,r,s){return Hn(),Fo(s),e.flags|=256,be(t,e,n,r),e.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Qa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bd(t,e,n){var r=e.pendingProps,s=Y.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(Y,s&1),t===null)return Ba(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ji(a,r,0,null),t=ln(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qa(n),e.memoizedState=Ga,t):tl(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Hp(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=qt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=qt(l,i):(i=ln(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Qa(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Ga,r}return i=t.child,t=i.sibling,r=qt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tl(t,e){return e=ji({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ws(t,e,n,r){return r!==null&&Fo(r),Vn(e,t.child,null,n),t=tl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hp(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=na(Error(N(422))),ws(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ji({mode:"visible",children:r.children},s,0,null),i=ln(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Vn(e,t.child,null,a),e.child.memoizedState=Qa(a),e.memoizedState=Ga,i);if(!(e.mode&1))return ws(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(N(419)),r=na(i,r,void 0),ws(t,e,a,r)}if(l=(a&t.childLanes)!==0,Oe||l){if(r=ce,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(t,s),nt(r,t,s,-1))}return ol(),r=na(Error(N(421))),ws(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=im.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ue=Mt(s.nextSibling),De=e,G=!0,et=null,t!==null&&(Be[qe++]=vt,Be[qe++]=xt,Be[qe++]=cn,vt=t.id,xt=t.overflow,cn=e),e=tl(e,r.children),e.flags|=4096,e)}function wu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qa(t.return,e,n)}function ra(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(be(t,e,r.children,n),r=Y.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wu(t,n,e);else if(t.tag===19)wu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(H(Y,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ni(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ra(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ni(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ra(e,!0,n,null,i);break;case"together":ra(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $s(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=qt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vp(t,e,n){switch(e.tag){case 3:Fd(e),Hn();break;case 5:md(e);break;case 1:Ie(e.type)&&Qs(e);break;case 4:Vo(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;H(Zs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(H(Y,Y.current&1),e.flags|=128,null):n&e.child.childLanes?Bd(t,e,n):(H(Y,Y.current&1),t=jt(t,e,n),t!==null?t.sibling:null);H(Y,Y.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Y,Y.current),r)break;return null;case 22:case 23:return e.lanes=0,Md(t,e,n)}return jt(t,e,n)}var Kd,Ya,Wd,Hd;Kd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ya=function(){};Wd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,an(ht.current);var i=null;switch(n){case"input":s=xa(t,s),r=xa(t,r),i=[];break;case"select":s=Z({},s,{value:void 0}),r=Z({},r,{value:void 0}),i=[];break;case"textarea":s=ka(t,s),r=ka(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Js)}ja(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&V("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Hd=function(t,e,n,r){n!==r&&(e.flags|=4)};function ur(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jp(t,e,n){var r=e.pendingProps;switch(zo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(e),null;case 1:return Ie(e.type)&&Gs(),ye(e),null;case 3:return r=e.stateNode,Jn(),J(Ae),J(xe),Go(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(io(et),et=null))),Ya(t,e),ye(e),null;case 5:Jo(e);var s=an(Fr.current);if(n=e.type,t!==null&&e.stateNode!=null)Wd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return ye(e),null}if(t=an(ht.current),vs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ct]=e,r[Mr]=i,t=(e.mode&1)!==0,n){case"dialog":V("cancel",r),V("close",r);break;case"iframe":case"object":case"embed":V("load",r);break;case"video":case"audio":for(s=0;s<mr.length;s++)V(mr[s],r);break;case"source":V("error",r);break;case"img":case"image":case"link":V("error",r),V("load",r);break;case"details":V("toggle",r);break;case"input":Tl(r,i),V("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},V("invalid",r);break;case"textarea":Ol(r,i),V("invalid",r)}ja(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,l,t),s=["children",""+l]):Tr.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&V("scroll",r)}switch(n){case"input":us(r),Pl(r,i,!0);break;case"textarea":us(r),Al(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Js)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ct]=e,t[Mr]=r,Kd(t,e,!1,!1),e.stateNode=t;e:{switch(a=Sa(n,r),n){case"dialog":V("cancel",t),V("close",t),s=r;break;case"iframe":case"object":case"embed":V("load",t),s=r;break;case"video":case"audio":for(s=0;s<mr.length;s++)V(mr[s],t);s=r;break;case"source":V("error",t),s=r;break;case"img":case"image":case"link":V("error",t),V("load",t),s=r;break;case"details":V("toggle",t),s=r;break;case"input":Tl(t,r),s=xa(t,r),V("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),V("invalid",t);break;case"textarea":Ol(t,r),s=ka(t,r),V("invalid",t);break;default:s=r}ja(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?bc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_c(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Pr(t,u):typeof u=="number"&&Pr(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&V("scroll",t):u!=null&&So(t,i,u,a))}switch(n){case"input":us(t),Pl(t,r,!1);break;case"textarea":us(t),Al(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Dn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Dn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ye(e),null;case 6:if(t&&e.stateNode!=null)Hd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=an(Fr.current),an(ht.current),vs(e)){if(r=e.stateNode,n=e.memoizedProps,r[ct]=e,(i=r.nodeValue!==n)&&(t=De,t!==null))switch(t.tag){case 3:ys(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=e,e.stateNode=r}return ye(e),null;case 13:if(J(Y),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Ue!==null&&e.mode&1&&!(e.flags&128))cd(),Hn(),e.flags|=98560,i=!1;else if(i=vs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ct]=e}else Hn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ye(e),i=!1}else et!==null&&(io(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?le===0&&(le=3):ol())),e.updateQueue!==null&&(e.flags|=4),ye(e),null);case 4:return Jn(),Ya(t,e),t===null&&Ur(e.stateNode.containerInfo),ye(e),null;case 10:return Ko(e.type._context),ye(e),null;case 17:return Ie(e.type)&&Gs(),ye(e),null;case 19:if(J(Y),i=e.memoizedState,i===null)return ye(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)ur(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ni(t),a!==null){for(e.flags|=128,ur(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return H(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&te()>Qn&&(e.flags|=128,r=!0,ur(i,!1),e.lanes=4194304)}else{if(!r)if(t=ni(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!G)return ye(e),null}else 2*te()-i.renderingStartTime>Qn&&n!==1073741824&&(e.flags|=128,r=!0,ur(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=te(),e.sibling=null,n=Y.current,H(Y,r?n&1|2:n&1),e):(ye(e),null);case 22:case 23:return al(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$e&1073741824&&(ye(e),e.subtreeFlags&6&&(e.flags|=8192)):ye(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Gp(t,e){switch(zo(e),e.tag){case 1:return Ie(e.type)&&Gs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jn(),J(Ae),J(xe),Go(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jo(e),null;case 13:if(J(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Hn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Y),null;case 4:return Jn(),null;case 10:return Ko(e.type._context),null;case 22:case 23:return al(),null;case 24:return null;default:return null}}var _s=!1,ve=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,O=null;function $n(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ee(t,e,r)}else n.current=null}function Xa(t,e,n){try{n()}catch(r){ee(t,e,r)}}var _u=!1;function Yp(t,e){if(La=Ws,t=Yc(),Do(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var x;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===t)break t;if(f===n&&++c===s&&(l=a),f===i&&++d===r&&(u=a),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for($a={focusedElem:t,selectionRange:n},Ws=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,b=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ye(e.type,_),b);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(w){ee(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return y=_u,_u=!1,y}function br(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xa(e,n,i)}s=s.next}while(s!==r)}}function ki(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Za(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vd(t){var e=t.alternate;e!==null&&(t.alternate=null,Vd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[Mr],delete e[Ma],delete e[Ip],delete e[Rp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jd(t){return t.tag===5||t.tag===3||t.tag===4}function ku(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Js));else if(r!==4&&(t=t.child,t!==null))for(eo(t,e,n),t=t.sibling;t!==null;)eo(t,e,n),t=t.sibling}function to(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(to(t,e,n),t=t.sibling;t!==null;)to(t,e,n),t=t.sibling}var fe=null,Xe=!1;function Nt(t,e,n){for(n=n.child;n!==null;)Gd(t,e,n),n=n.sibling}function Gd(t,e,n){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(pi,n)}catch{}switch(n.tag){case 5:ve||$n(n,e);case 6:var r=fe,s=Xe;fe=null,Nt(t,e,n),fe=r,Xe=s,fe!==null&&(Xe?(t=fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(Xe?(t=fe,n=n.stateNode,t.nodeType===8?Qi(t.parentNode,n):t.nodeType===1&&Qi(t,n),Rr(t)):Qi(fe,n.stateNode));break;case 4:r=fe,s=Xe,fe=n.stateNode.containerInfo,Xe=!0,Nt(t,e,n),fe=r,Xe=s;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Xa(n,e,a),s=s.next}while(s!==r)}Nt(t,e,n);break;case 1:if(!ve&&($n(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ee(n,e,l)}Nt(t,e,n);break;case 21:Nt(t,e,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,Nt(t,e,n),ve=r):Nt(t,e,n);break;default:Nt(t,e,n)}}function bu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qp),e.forEach(function(r){var s=am.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ge(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,Xe=!1;break e;case 3:fe=l.stateNode.containerInfo,Xe=!0;break e;case 4:fe=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(fe===null)throw Error(N(160));Gd(i,a,s),fe=null,Xe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ee(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qd(e,t),e=e.sibling}function Qd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ge(e,t),ot(t),r&4){try{br(3,t,t.return),ki(3,t)}catch(_){ee(t,t.return,_)}try{br(5,t,t.return)}catch(_){ee(t,t.return,_)}}break;case 1:Ge(e,t),ot(t),r&512&&n!==null&&$n(n,n.return);break;case 5:if(Ge(e,t),ot(t),r&512&&n!==null&&$n(n,n.return),t.flags&32){var s=t.stateNode;try{Pr(s,"")}catch(_){ee(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vc(s,i),Sa(l,a);var c=Sa(l,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?bc(s,h):d==="dangerouslySetInnerHTML"?_c(s,h):d==="children"?Pr(s,h):So(s,d,h,c)}switch(l){case"input":wa(s,i);break;case"textarea":xc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Dn(s,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?Dn(s,!!i.multiple,i.defaultValue,!0):Dn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mr]=i}catch(_){ee(t,t.return,_)}}break;case 6:if(Ge(e,t),ot(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ee(t,t.return,_)}}break;case 3:if(Ge(e,t),ot(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rr(e.containerInfo)}catch(_){ee(t,t.return,_)}break;case 4:Ge(e,t),ot(t);break;case 13:Ge(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sl=te())),r&4&&bu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ve=(c=ve)||d,Ge(e,t),ve=c):Ge(e,t),ot(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,x=f.child,f.tag){case 0:case 11:case 14:case 15:br(4,f,f.return);break;case 1:$n(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){ee(r,n,_)}}break;case 5:$n(f,f.return);break;case 22:if(f.memoizedState!==null){Su(h);continue}}x!==null?(x.return=f,O=x):Su(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=kc("display",a))}catch(_){ee(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){ee(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ge(e,t),ot(t),r&4&&bu(t);break;case 21:break;default:Ge(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jd(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pr(s,""),r.flags&=-33);var i=ku(t);to(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=ku(t);eo(t,l,a);break;default:throw Error(N(161))}}catch(u){ee(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xp(t,e,n){O=t,Yd(t)}function Yd(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||_s;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ve;l=_s;var c=ve;if(_s=a,(ve=u)&&!c)for(O=s;O!==null;)a=O,u=a.child,a.tag===22&&a.memoizedState!==null?Nu(s):u!==null?(u.return=a,O=u):Nu(s);for(;i!==null;)O=i,Yd(i),i=i.sibling;O=s,_s=l,ve=c}ju(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):ju(t)}}function ju(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ve||ki(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ve)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ye(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lu(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lu(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ve||e.flags&512&&Za(e)}catch(f){ee(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function Su(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function Nu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ki(4,e)}catch(u){ee(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ee(e,s,u)}}var i=e.return;try{Za(e)}catch(u){ee(e,i,u)}break;case 5:var a=e.return;try{Za(e)}catch(u){ee(e,a,u)}}}catch(u){ee(e,e.return,u)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Zp=Math.ceil,ii=St.ReactCurrentDispatcher,nl=St.ReactCurrentOwner,We=St.ReactCurrentBatchConfig,z=0,ce=null,re=null,pe=0,$e=0,Un=Vt(0),le=0,Wr=null,hn=0,bi=0,rl=0,jr=null,Te=null,sl=0,Qn=1/0,mt=null,ai=!1,no=null,Ft=null,ks=!1,Lt=null,oi=0,Sr=0,ro=null,Us=-1,Ds=0;function je(){return z&6?te():Us!==-1?Us:Us=te()}function Bt(t){return t.mode&1?z&2&&pe!==0?pe&-pe:$p.transition!==null?(Ds===0&&(Ds=Lc()),Ds):(t=F,t!==0||(t=window.event,t=t===void 0?16:Bc(t.type)),t):1}function nt(t,e,n,r){if(50<Sr)throw Sr=0,ro=null,Error(N(185));Gr(t,n,r),(!(z&2)||t!==ce)&&(t===ce&&(!(z&2)&&(bi|=n),le===4&&At(t,pe)),Re(t,r),n===1&&z===0&&!(e.mode&1)&&(Qn=te()+500,xi&&Jt()))}function Re(t,e){var n=t.callbackNode;$f(t,e);var r=Ks(t,t===ce?pe:0);if(r===0)n!==null&&Ll(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ll(n),e===1)t.tag===0?Lp(Eu.bind(null,t)):od(Eu.bind(null,t)),Op(function(){!(z&6)&&Jt()}),n=null;else{switch($c(r)){case 1:n=Po;break;case 4:n=Ic;break;case 16:n=qs;break;case 536870912:n=Rc;break;default:n=qs}n=ih(n,Xd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xd(t,e){if(Us=-1,Ds=0,z&6)throw Error(N(327));var n=t.callbackNode;if(qn()&&t.callbackNode!==n)return null;var r=Ks(t,t===ce?pe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=li(t,r);else{e=r;var s=z;z|=2;var i=eh();(ce!==t||pe!==e)&&(mt=null,Qn=te()+500,on(t,e));do try{nm();break}catch(l){Zd(t,l)}while(!0);qo(),ii.current=i,z=s,re!==null?e=0:(ce=null,pe=0,e=le)}if(e!==0){if(e===2&&(s=Pa(t),s!==0&&(r=s,e=so(t,s))),e===1)throw n=Wr,on(t,0),At(t,r),Re(t,te()),n;if(e===6)At(t,r);else{if(s=t.current.alternate,!(r&30)&&!em(s)&&(e=li(t,r),e===2&&(i=Pa(t),i!==0&&(r=i,e=so(t,i))),e===1))throw n=Wr,on(t,0),At(t,r),Re(t,te()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:en(t,Te,mt);break;case 3:if(At(t,r),(r&130023424)===r&&(e=sl+500-te(),10<e)){if(Ks(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Da(en.bind(null,t,Te,mt),e);break}en(t,Te,mt);break;case 4:if(At(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-tt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zp(r/1960))-r,10<r){t.timeoutHandle=Da(en.bind(null,t,Te,mt),r);break}en(t,Te,mt);break;case 5:en(t,Te,mt);break;default:throw Error(N(329))}}}return Re(t,te()),t.callbackNode===n?Xd.bind(null,t):null}function so(t,e){var n=jr;return t.current.memoizedState.isDehydrated&&(on(t,e).flags|=256),t=li(t,e),t!==2&&(e=Te,Te=n,e!==null&&io(e)),t}function io(t){Te===null?Te=t:Te.push.apply(Te,t)}function em(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function At(t,e){for(e&=~rl,e&=~bi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tt(e),r=1<<n;t[n]=-1,e&=~r}}function Eu(t){if(z&6)throw Error(N(327));qn();var e=Ks(t,0);if(!(e&1))return Re(t,te()),null;var n=li(t,e);if(t.tag!==0&&n===2){var r=Pa(t);r!==0&&(e=r,n=so(t,r))}if(n===1)throw n=Wr,on(t,0),At(t,e),Re(t,te()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,en(t,Te,mt),Re(t,te()),null}function il(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&(Qn=te()+500,xi&&Jt())}}function fn(t){Lt!==null&&Lt.tag===0&&!(z&6)&&qn();var e=z;z|=1;var n=We.transition,r=F;try{if(We.transition=null,F=1,t)return t()}finally{F=r,We.transition=n,z=e,!(z&6)&&Jt()}}function al(){$e=Un.current,J(Un)}function on(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pp(n)),re!==null)for(n=re.return;n!==null;){var r=n;switch(zo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gs();break;case 3:Jn(),J(Ae),J(xe),Go();break;case 5:Jo(r);break;case 4:Jn();break;case 13:J(Y);break;case 19:J(Y);break;case 10:Ko(r.type._context);break;case 22:case 23:al()}n=n.return}if(ce=t,re=t=qt(t.current,null),pe=$e=e,le=0,Wr=null,rl=bi=hn=0,Te=jr=null,sn!==null){for(e=0;e<sn.length;e++)if(n=sn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}sn=null}return t}function Zd(t,e){do{var n=re;try{if(qo(),Rs.current=si,ri){for(var r=X.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ri=!1}if(dn=0,ue=oe=X=null,kr=!1,Br=0,nl.current=null,n===null||n.return===null){le=1,Wr=e,re=null;break}e:{var i=t,a=n.return,l=n,u=e;if(e=pe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=pu(a);if(x!==null){x.flags&=-257,mu(x,a,l,i,e),x.mode&1&&fu(i,c,e),e=x,u=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(u),e.updateQueue=_}else y.add(u);break e}else{if(!(e&1)){fu(i,c,e),ol();break e}u=Error(N(426))}}else if(G&&l.mode&1){var b=pu(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mu(b,a,l,i,e),Fo(Gn(u,l));break e}}i=u=Gn(u,l),le!==4&&(le=2),jr===null?jr=[i]:jr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=$d(i,u,e);ou(i,g);break e;case 1:l=u;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ft===null||!Ft.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Ud(i,l,e);ou(i,w);break e}}i=i.return}while(i!==null)}nh(n)}catch(S){e=S,re===n&&n!==null&&(re=n=n.return);continue}break}while(!0)}function eh(){var t=ii.current;return ii.current=si,t===null?si:t}function ol(){(le===0||le===3||le===2)&&(le=4),ce===null||!(hn&268435455)&&!(bi&268435455)||At(ce,pe)}function li(t,e){var n=z;z|=2;var r=eh();(ce!==t||pe!==e)&&(mt=null,on(t,e));do try{tm();break}catch(s){Zd(t,s)}while(!0);if(qo(),z=n,ii.current=r,re!==null)throw Error(N(261));return ce=null,pe=0,le}function tm(){for(;re!==null;)th(re)}function nm(){for(;re!==null&&!Ef();)th(re)}function th(t){var e=sh(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?nh(t):re=e,nl.current=null}function nh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gp(n,e),n!==null){n.flags&=32767,re=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,re=null;return}}else if(n=Jp(n,e,$e),n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);le===0&&(le=5)}function en(t,e,n){var r=F,s=We.transition;try{We.transition=null,F=1,rm(t,e,n,r)}finally{We.transition=s,F=r}return null}function rm(t,e,n,r){do qn();while(Lt!==null);if(z&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Uf(t,i),t===ce&&(re=ce=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ks||(ks=!0,ih(qs,function(){return qn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=We.transition,We.transition=null;var a=F;F=1;var l=z;z|=4,nl.current=null,Yp(t,n),Qd(n,t),bp($a),Ws=!!La,$a=La=null,t.current=n,Xp(n),Cf(),z=l,F=a,We.transition=i}else t.current=n;if(ks&&(ks=!1,Lt=t,oi=s),i=t.pendingLanes,i===0&&(Ft=null),Of(n.stateNode),Re(t,te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ai)throw ai=!1,t=no,no=null,t;return oi&1&&t.tag!==0&&qn(),i=t.pendingLanes,i&1?t===ro?Sr++:(Sr=0,ro=t):Sr=0,Jt(),null}function qn(){if(Lt!==null){var t=$c(oi),e=We.transition,n=F;try{if(We.transition=null,F=16>t?16:t,Lt===null)var r=!1;else{if(t=Lt,Lt=null,oi=0,z&6)throw Error(N(331));var s=z;for(z|=4,O=t.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:br(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,x=d.return;if(Vd(d),d===c){O=null;break}if(f!==null){f.return=x,O=f;break}O=x}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:br(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var m=t.current;for(O=m;O!==null;){a=O;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,O=p;else e:for(a=m;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ki(9,l)}}catch(S){ee(l,l.return,S)}if(l===a){O=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,O=w;break e}O=l.return}}if(z=s,Jt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(pi,t)}catch{}r=!0}return r}finally{F=n,We.transition=e}}return!1}function Cu(t,e,n){e=Gn(n,e),e=$d(t,e,1),t=zt(t,e,1),e=je(),t!==null&&(Gr(t,1,e),Re(t,e))}function ee(t,e,n){if(t.tag===3)Cu(t,t,n);else for(;e!==null;){if(e.tag===3){Cu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ft===null||!Ft.has(r))){t=Gn(n,t),t=Ud(e,t,1),e=zt(e,t,1),t=je(),e!==null&&(Gr(e,1,t),Re(e,t));break}}e=e.return}}function sm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&n,ce===t&&(pe&n)===n&&(le===4||le===3&&(pe&130023424)===pe&&500>te()-sl?on(t,0):rl|=n),Re(t,e)}function rh(t,e){e===0&&(t.mode&1?(e=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):e=1);var n=je();t=bt(t,e),t!==null&&(Gr(t,e,n),Re(t,n))}function im(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rh(t,n)}function am(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),rh(t,n)}var sh;sh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Oe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Oe=!1,Vp(t,e,n);Oe=!!(t.flags&131072)}else Oe=!1,G&&e.flags&1048576&&ld(e,Xs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$s(t,e),t=e.pendingProps;var s=Wn(e,xe.current);Bn(e,n),s=Yo(null,e,r,t,s,n);var i=Xo();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)?(i=!0,Qs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ho(e),s.updater=_i,e.stateNode=s,s._reactInternals=e,Wa(e,r,t,n),e=Ja(null,e,r,!0,i,n)):(e.tag=0,G&&i&&Mo(e),be(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch($s(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lm(r),t=Ye(r,t),s){case 0:e=Va(null,e,r,t,n);break e;case 1:e=vu(null,e,r,t,n);break e;case 11:e=gu(null,e,r,t,n);break e;case 14:e=yu(null,e,r,Ye(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),Va(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),vu(t,e,r,s,n);case 3:e:{if(Fd(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pd(t,e),ti(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gn(Error(N(423)),e),e=xu(t,e,r,n,s);break e}else if(r!==s){s=Gn(Error(N(424)),e),e=xu(t,e,r,n,s);break e}else for(Ue=Mt(e.stateNode.containerInfo.firstChild),De=e,G=!0,et=null,n=hd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===s){e=jt(t,e,n);break e}be(t,e,r,n)}e=e.child}return e;case 5:return md(e),t===null&&Ba(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ua(r,s)?a=null:i!==null&&Ua(r,i)&&(e.flags|=32),zd(t,e),be(t,e,a,n),e.child;case 6:return t===null&&Ba(e),null;case 13:return Bd(t,e,n);case 4:return Vo(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vn(e,null,r,n):be(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),gu(t,e,r,s,n);case 7:return be(t,e,e.pendingProps,n),e.child;case 8:return be(t,e,e.pendingProps.children,n),e.child;case 12:return be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,H(Zs,r._currentValue),r._currentValue=a,i!==null)if(rt(i.value,a)){if(i.children===s.children&&!Ae.current){e=jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=wt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),qa(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),qa(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}be(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bn(e,n),s=Ve(s),r=r(s),e.flags|=1,be(t,e,r,n),e.child;case 14:return r=e.type,s=Ye(r,e.pendingProps),s=Ye(r.type,s),yu(t,e,r,s,n);case 15:return Dd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ye(r,s),$s(t,e),e.tag=1,Ie(r)?(t=!0,Qs(e)):t=!1,Bn(e,n),Ld(e,r,s),Wa(e,r,s,n),Ja(null,e,r,!0,t,n);case 19:return qd(t,e,n);case 22:return Md(t,e,n)}throw Error(N(156,e.tag))};function ih(t,e){return Ac(t,e)}function om(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,r){return new om(t,e,n,r)}function ll(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lm(t){if(typeof t=="function")return ll(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eo)return 11;if(t===Co)return 14}return 2}function qt(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ms(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")ll(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case En:return ln(n.children,s,i,e);case No:a=8,s|=8;break;case ma:return t=Ke(12,n,e,s|2),t.elementType=ma,t.lanes=i,t;case ga:return t=Ke(13,n,e,s),t.elementType=ga,t.lanes=i,t;case ya:return t=Ke(19,n,e,s),t.elementType=ya,t.lanes=i,t;case mc:return ji(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fc:a=10;break e;case pc:a=9;break e;case Eo:a=11;break e;case Co:a=14;break e;case Tt:a=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Ke(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ln(t,e,n,r){return t=Ke(7,t,r,e),t.lanes=n,t}function ji(t,e,n,r){return t=Ke(22,t,r,e),t.elementType=mc,t.lanes=n,t.stateNode={isHidden:!1},t}function sa(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function ia(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function um(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mi(0),this.expirationTimes=Mi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ul(t,e,n,r,s,i,a,l,u){return t=new um(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ho(i),t}function cm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ah(t){if(!t)return Wt;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ie(n))return ad(t,n,e)}return e}function oh(t,e,n,r,s,i,a,l,u){return t=ul(n,r,!0,t,s,i,a,l,u),t.context=ah(null),n=t.current,r=je(),s=Bt(n),i=wt(r,s),i.callback=e??null,zt(n,i,s),t.current.lanes=s,Gr(t,s,r),Re(t,r),t}function Si(t,e,n,r){var s=e.current,i=je(),a=Bt(s);return n=ah(n),e.context===null?e.context=n:e.pendingContext=n,e=wt(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zt(s,e,a),t!==null&&(nt(t,s,a,i),Is(t,s,a)),a}function ui(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cl(t,e){Tu(t,e),(t=t.alternate)&&Tu(t,e)}function dm(){return null}var lh=typeof reportError=="function"?reportError:function(t){console.error(t)};function dl(t){this._internalRoot=t}Ni.prototype.render=dl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Si(t,e,null,null)};Ni.prototype.unmount=dl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fn(function(){Si(null,t,null,null)}),e[kt]=null}};function Ni(t){this._internalRoot=t}Ni.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ot.length&&e!==0&&e<Ot[n].priority;n++);Ot.splice(n,0,t),n===0&&Fc(t)}};function hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ei(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pu(){}function hm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ui(a);i.call(c)}}var a=oh(e,r,t,0,null,!1,!1,"",Pu);return t._reactRootContainer=a,t[kt]=a.current,Ur(t.nodeType===8?t.parentNode:t),fn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ui(u);l.call(c)}}var u=ul(t,0,!1,null,null,!1,!1,"",Pu);return t._reactRootContainer=u,t[kt]=u.current,Ur(t.nodeType===8?t.parentNode:t),fn(function(){Si(e,u,n,r)}),u}function Ci(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=ui(a);l.call(u)}}Si(e,a,t,s)}else a=hm(n,e,t,s,r);return ui(a)}Uc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pr(e.pendingLanes);n!==0&&(Oo(e,n|1),Re(e,te()),!(z&6)&&(Qn=te()+500,Jt()))}break;case 13:fn(function(){var r=bt(t,1);if(r!==null){var s=je();nt(r,t,1,s)}}),cl(t,1)}};Ao=function(t){if(t.tag===13){var e=bt(t,134217728);if(e!==null){var n=je();nt(e,t,134217728,n)}cl(t,134217728)}};Dc=function(t){if(t.tag===13){var e=Bt(t),n=bt(t,e);if(n!==null){var r=je();nt(n,t,e,r)}cl(t,e)}};Mc=function(){return F};zc=function(t,e){var n=F;try{return F=t,e()}finally{F=n}};Ea=function(t,e,n){switch(e){case"input":if(wa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vi(r);if(!s)throw Error(N(90));yc(r),wa(r,s)}}}break;case"textarea":xc(t,n);break;case"select":e=n.value,e!=null&&Dn(t,!!n.multiple,e,!1)}};Nc=il;Ec=fn;var fm={usingClientEntryPoint:!1,Events:[Yr,On,vi,jc,Sc,il]},cr={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pm={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pc(t),t===null?null:t.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{pi=bs.inject(pm),dt=bs}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm;ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hl(e))throw Error(N(200));return cm(t,e,null,n)};ze.createRoot=function(t,e){if(!hl(t))throw Error(N(299));var n=!1,r="",s=lh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ul(t,1,!1,null,null,n,!1,r,s),t[kt]=e.current,Ur(t.nodeType===8?t.parentNode:t),new dl(e)};ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Pc(e),t=t===null?null:t.stateNode,t};ze.flushSync=function(t){return fn(t)};ze.hydrate=function(t,e,n){if(!Ei(e))throw Error(N(200));return Ci(null,t,e,!0,n)};ze.hydrateRoot=function(t,e,n){if(!hl(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=lh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=oh(e,null,t,1,n??null,s,!1,i,a),t[kt]=e.current,Ur(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ni(e)};ze.render=function(t,e,n){if(!Ei(e))throw Error(N(200));return Ci(null,t,e,!1,n)};ze.unmountComponentAtNode=function(t){if(!Ei(t))throw Error(N(40));return t._reactRootContainer?(fn(function(){Ci(null,null,t,!1,function(){t._reactRootContainer=null,t[kt]=null})}),!0):!1};ze.unstable_batchedUpdates=il;ze.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ei(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Ci(t,e,n,!1,r)};ze.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(t){console.error(t)}}uh(),uc.exports=ze;var mm=uc.exports,ch,Ou=mm;ch=Ou.createRoot,Ou.hydrateRoot;const gm="modulepreload",ym=function(t){return"/"+t},Au={},Zr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=ym(u),u in Au)return;Au[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":gm,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},vm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class fl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class xm extends fl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Iu extends fl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends fl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ao;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ao||(ao={}));var wm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class _m{constructor(e,{headers:n={},customFetch:r,region:s=ao.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=vm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return wm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(_=>{throw new xm(_)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Iu(h);if(!h.ok)throw new Ru(h);let x=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return x==="application/json"?y=yield h.json():x==="application/octet-stream"?y=yield h.blob():x==="text/event-stream"?y=h:x==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof Iu?s.context:void 0}}})}}var Pe={},pl={},Ti={},es={},Pi={},Oi={},km=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yn=km();const bm=Yn.fetch,dh=Yn.fetch.bind(Yn),hh=Yn.Headers,jm=Yn.Request,Sm=Yn.Response,tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:hh,Request:jm,Response:Sm,default:dh,fetch:bm},Symbol.toStringTag,{value:"Module"})),Nm=Bh(tr);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});let Em=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ai.default=Em;var fh=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const Cm=fh(Nm),Tm=fh(Ai);let Pm=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Cm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,u,c;let d=null,h=null,f=null,x=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");b&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,x=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(h=[],d=null,x=200,y="OK")}catch{i.status===404&&b===""?(x=204,y="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,x=200,y="OK"),d&&this.shouldThrowOnError)throw new Tm.default(d)}return{error:d,data:h,count:f,status:x,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Oi.default=Pm;var Om=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const Am=Om(Oi);let Im=class extends Am.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Pi.default=Im;var Rm=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});const Lm=Rm(Pi);let $m=class extends Lm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};es.default=$m;var Um=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const dr=Um(es);let Dm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new dr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new dr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new dr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new dr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ti.default=Dm;var ph=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pl,"__esModule",{value:!0});const Mm=ph(Ti),zm=ph(es);let Fm=class mh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Mm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new mh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const u=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{u.searchParams.append(h,f)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new zm.default({method:l,url:u,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};pl.default=Fm;var nr=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.PostgrestError=Pe.PostgrestBuilder=Pe.PostgrestTransformBuilder=Pe.PostgrestFilterBuilder=Pe.PostgrestQueryBuilder=Pe.PostgrestClient=void 0;const gh=nr(pl);Pe.PostgrestClient=gh.default;const yh=nr(Ti);Pe.PostgrestQueryBuilder=yh.default;const vh=nr(es);Pe.PostgrestFilterBuilder=vh.default;const xh=nr(Pi);Pe.PostgrestTransformBuilder=xh.default;const wh=nr(Oi);Pe.PostgrestBuilder=wh.default;const _h=nr(Ai);Pe.PostgrestError=_h.default;var Bm=Pe.default={PostgrestClient:gh.default,PostgrestQueryBuilder:yh.default,PostgrestFilterBuilder:vh.default,PostgrestTransformBuilder:xh.default,PostgrestBuilder:wh.default,PostgrestError:_h.default};const{PostgrestClient:qm,PostgrestQueryBuilder:my,PostgrestFilterBuilder:gy,PostgrestTransformBuilder:yy,PostgrestBuilder:vy,PostgrestError:xy}=Bm;class Km{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Wm="2.15.5",Hm=`realtime-js/${Wm}`,Vm="1.0.0",oo=1e4,Jm=1e3,Gm=100;var Nr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nr||(Nr={}));var ie;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ie||(ie={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var lo;(function(t){t.websocket="websocket"})(lo||(lo={}));var nn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nn||(nn={}));class Qm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+s));a=a+s;const u=r.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class kh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(W||(W={}));const Lu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=Ym(a,t,e,s),i),{})},Ym=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?bh(i,a):uo(a)},bh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return t0(e,n)}switch(t){case W.bool:return Xm(e);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Zm(e);case W.json:case W.jsonb:return e0(e);case W.timestamp:return n0(e);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return uo(e);default:return uo(e)}},uo=t=>t,Xm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},e0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},t0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>bh(e,l))}return t},n0=t=>typeof t=="string"?t.replace(" ","T"):t,jh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class aa{constructor(e,n,r={},s=oo){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $u;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($u||($u={}));class Er{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Er.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=Er.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Er.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),x=h.map(b=>b.presence_ref),y=d.filter(b=>x.indexOf(b.presence_ref)<0),_=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(l[c]=y),_.length>0&&(u[c]=_)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const h=e[l].map(x=>x.presence_ref),f=d.filter(x=>h.indexOf(x.presence_ref)<0);e[l].unshift(...f)}r(l,d,u)}),this.map(a,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Uu||(Uu={}));var Cr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Cr||(Cr={}));var gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class ml{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new aa(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new kh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ie.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Er(this),this.broadcastEndpointURL=jh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ie.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Cr.PRESENCE]&&this.bindings[Cr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(gt.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){e==null||e(gt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,g=[];for(let m=0;m<b;m++){const p=_[m],{filter:{event:w,schema:S,table:v,filter:k}}=p,P=x&&x[m];if(P&&P.event===w&&P.schema===S&&P.table===v&&P.filter===k)g.push(Object.assign(Object.assign({},p),{id:P.id}));else{this.unsubscribe(),this.state=ie.errored,e==null||e(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(gt.SUBSCRIBED);return}}).receive("error",x=>{this.state=ie.errored,e==null||e(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ie.joined&&e===Cr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ie.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new aa(this,Ze.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ie.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new aa(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Gm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Ze;if(r&&[l,u,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var y,_,b;return((y=x.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(_=x.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(x=>x.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(x=>{var y,_,b,g,m,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in x){const w=x.id,S=(y=x.filter)===null||y===void 0?void 0:y.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(m=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===a}).map(x=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:b,commit_timestamp:g,type:m,errors:p}=y;f=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}x.callback(f,r)})}_isClosed(){return this.state===ie.closed}_isJoined(){return this.state===ie.joined}_isJoining(){return this.state===ie.joining}_isLeaving(){return this.state===ie.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ml.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ie.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Lu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Lu(e.columns,e.old_record)),n}}const oa=()=>{},js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},r0=[1e3,2e3,5e3,1e4],s0=1e4,i0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class a0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oo,this.transport=null,this.heartbeatIntervalMs=js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oa,this.ref=0,this.reconnectTimer=null,this.logger=oa,this.conn=null,this.sendBuffer=[],this.serializer=new Qm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>Zr(async()=>{const{default:l}=await Promise.resolve().then(()=>tr);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${lo.websocket}`,this.httpEndpoint=jh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Km.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Nr.connecting:return nn.Connecting;case Nr.open:return nn.Open;case Nr.closing:return nn.Closing;default:return nn.Closed}}isConnected(){return this.connectionState()===nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ml(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Jm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},js.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([i0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Hm};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ze.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new kh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},js.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,a,l,u,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:oo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:js.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:oa,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>r0[h-1]||s0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class gl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class o0 extends gl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class co extends gl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var l0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Sh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},u0=()=>l0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zr(()=>Promise.resolve().then(()=>tr),void 0)).Response:Response}),ho=t=>{if(Array.isArray(t))return t.map(n=>ho(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ho(r)}),e},c0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var gn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const la=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),d0=(t,e,n)=>gn(void 0,void 0,void 0,function*(){const r=yield u0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new o0(la(s),i,a))}).catch(s=>{e(new co(la(s),s))}):e(new co(la(t),t))}),h0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(c0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ts(t,e,n,r,s,i){return gn(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,h0(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>d0(u,l,r))})})}function ci(t,e,n,r){return gn(this,void 0,void 0,function*(){return ts(t,"GET",e,n,r)})}function ut(t,e,n,r,s){return gn(this,void 0,void 0,function*(){return ts(t,"POST",e,r,s,n)})}function fo(t,e,n,r,s){return gn(this,void 0,void 0,function*(){return ts(t,"PUT",e,r,s,n)})}function f0(t,e,n,r){return gn(this,void 0,void 0,function*(){return ts(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nh(t,e,n,r,s){return gn(this,void 0,void 0,function*(){return ts(t,"DELETE",e,r,s,n)})}var ke=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const p0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Du={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m0{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Sh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return ke(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Du),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?fo:ut)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ke(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Du.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield fo(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ae(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ut(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new gl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}update(e,n,r){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ke(this,void 0,void 0,function*(){try{const s=yield ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}download(e,n){return ke(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ci(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ae(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ci(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ho(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}exists(e){return ke(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield f0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r)&&r instanceof co){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}list(e,n,r){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},p0),n),{prefix:e||""});return{data:yield ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}listV2(e,n){return ke(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const g0="2.12.1",y0={"X-Client-Info":`storage-js/${g0}`};var xn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class v0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},y0),n),this.fetch=Sh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return xn(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return xn(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(e){return xn(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}}class x0 extends v0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new m0(this.url,this.headers,e,this.fetch)}}const w0="2.57.4";let gr="";typeof Deno<"u"?gr="deno":typeof document<"u"?gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gr="react-native":gr="node";const _0={"X-Client-Info":`supabase-js-${gr}/${w0}`},k0={headers:_0},b0={schema:"public"},j0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S0={};var N0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const E0=t=>{let e;return t?e=t:typeof fetch>"u"?e=dh:e=fetch,(...n)=>e(...n)},C0=()=>typeof Headers>"u"?hh:Headers,T0=(t,e,n)=>{const r=E0(n),s=C0();return(i,a)=>N0(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},a),{headers:c}))})};var P0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};function O0(t){return t.endsWith("/")?t:t+"/"}function A0(t,e){var n,r;const{db:s,auth:i,realtime:a,global:l}=t,{db:u,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>P0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function I0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(O0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Eh="2.71.1",jn=30*1e3,po=3,ua=po*jn,R0="http://localhost:9999",L0="supabase.auth.token",$0={"X-Client-Info":`gotrue-js/${Eh}`},mo="X-Supabase-Api-Version",Ch={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D0=10*60*1e3;class yl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class M0 extends yl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function z0(t){return $(t)&&t.name==="AuthApiError"}class Th extends yl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gt extends yl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ct extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function F0(t){return $(t)&&t.name==="AuthSessionMissingError"}class Ss extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Gt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Es extends Gt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function B0(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mu extends Gt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class go extends Gt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ca(t){return $(t)&&t.name==="AuthRetryableFetchError"}class zu extends Gt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class yo extends Gt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fu=` 	
\r=`.split(""),q0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Fu.length;e+=1)t[Fu[e].charCodeAt(0)]=-2;for(let e=0;e<di.length;e+=1)t[di[e].charCodeAt(0)]=e;return t})();function Bu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(di[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(di[r]),e.queuedBits-=6}}function Ph(t,e,n){const r=q0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function qu(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{H0(a,r,n)};for(let a=0;a<t.length;a+=1)Ph(t.charCodeAt(a),s,i);return e.join("")}function K0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function W0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}K0(r,e)}}function H0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function V0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ph(t.charCodeAt(s),n,r);return new Uint8Array(e)}function J0(t){const e=[];return W0(t,n=>e.push(n)),new Uint8Array(e)}function G0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Bu(s,n,r)),Bu(null,n,r),e.join("")}function Q0(t){return Math.round(Date.now()/1e3)+t}function Y0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",Yt={tested:!1,writable:!1},Oh=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function X0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ah=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zr(async()=>{const{default:r}=await Promise.resolve().then(()=>tr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Z0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Et=async(t,e)=>{await t.removeItem(e)};class Ii{constructor(){this.promise=new Ii.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ii.promiseConstructor=Promise;function da(t){const e=t.split(".");if(e.length!==3)throw new yo("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!U0.test(e[r]))throw new yo("JWT not in base64url format");return{header:JSON.parse(qu(e[0])),payload:JSON.parse(qu(e[1])),signature:V0(e[2]),raw:{header:e[0],payload:e[1]}}}async function eg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function tg(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function ng(t){return("0"+t.toString(16)).substr(-2)}function rg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,ng).join("")}async function sg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ig(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await sg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(t,e,n=!1){const r=rg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Sn(t,`${e}-code-verifier`,s);const i=await ig(r);return[i,r===i?"plain":"s256"]}const ag=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function og(t){const e=t.headers.get(mo);if(!e||!e.match(ag))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function lg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ug(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(t){if(!cg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ha(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ku(t){return JSON.parse(JSON.stringify(t))}var dg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hg=[502,503,504];async function Wu(t){var e;if(!Z0(t))throw new go(tn(t),0);if(hg.includes(t.status))throw new go(tn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Th(tn(i),i)}let r;const s=og(t);if(s&&s.getTime()>=Ch["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zu(tn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new zu(tn(n),t.status,n.weak_password.reasons);throw new M0(tn(n),t.status||500,r)}const fg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[mo]||(i[mo]=Ch["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await pg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function pg(t,e,n,r,s,i){const a=fg(e,r,s,i);let l;try{l=await t(n,Object.assign({},a))}catch(u){throw console.error(u),new go(tn(u),0)}if(l.ok||await Wu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await Wu(u)}}function pt(t){var e;let n=null;vg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Q0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hu(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function It(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mg(t){return{data:t,error:null}}function gg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=dg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function yg(t){return t}function vg(t){return t.access_token&&t.refresh_token&&t.expires_in}const fa=["global","local","others"];var xg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class wg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ah(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=fa[0]){if(fa.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fa.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:It})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=xg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:It})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yg});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,x=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){_n(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:It})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){_n(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:It})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){_n(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:It})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){_n(e.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){_n(e.userId),_n(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}function Vu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function _g(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kn={debug:!!(globalThis&&Oh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ih extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kg extends Ih{}async function bg(t,e,n){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),kn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw kn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}_g();const jg={url:R0,storageKey:L0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ju(t,e,n){return await n()}const bn={};class Hr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hr.nextInstanceID,Hr.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ah(s.fetch),this.lock=s.lock||Ju,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bg:this.lock=Ju,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Oh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=bn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=bn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Eh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=X0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Qe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),B0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new Th("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let x=null,y=null;this.flowType==="pkce"&&([x,y]=await wn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:y},xform:pt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pt})}else throw new Ns("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:l}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else if("phone"in e){const{phone:i,password:a,options:l}=e;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Hu})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ss}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,l,u,c,d,h,f,x;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:b,wallet:g,statement:m,options:p}=e;let w;if(Qe())if(typeof g=="object")w=g;else{const v=window;if("solana"in v&&typeof v.solana=="object"&&("signIn"in v.solana&&typeof v.solana.signIn=="function"||"signMessage"in v.solana&&typeof v.solana.signMessage=="function"))w=v.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const v=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let k;if(Array.isArray(v)&&v[0]&&typeof v[0]=="object")k=v[0];else if(v&&typeof v=="object"&&"signedMessage"in v&&"signature"in v)k=v;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),_=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const v=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!v||!(v instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=v}}try{const{data:b,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:G0(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:pt});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ss}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if($(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Xt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pt});if(await Et(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ss}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ss}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await wn(this.storage,this.storageKey));const{error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ns("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await wn(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:mg})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ct;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:l}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ns("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ua:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await Xt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ha()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:It}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:It})})}catch(n){if($(n))return F0(n)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ct;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await wn(this.storage,this.storageKey));const{data:c,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:It});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=da(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ct;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Qe())throw new Es("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Es(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Es("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mu("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!a||!c)throw new Es("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;u&&(f=parseInt(u));const x=f-d;x*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:_,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if($(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(z0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Y0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await wn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:h,error:f}=i;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if($(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await tg(async s=>(s>0&&await eg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ca(i)&&Date.now()+a-r<jn})}catch(r){if(this._debug(n,"error",r),$(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Xt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Xt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Sn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ha()}else if(s&&!s.user&&!s.user){const a=await Xt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Et(this.storage,this.storageKey+"-user"),await Sn(this.storage,this.storageKey,s)):s.user=ha()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ua;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ua}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ca(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ii;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const a={session:null,error:i};return ca(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ku(s);await Sn(this.storage,this.storageKey,i)}else{const s=Ku(n);await Sn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${jn}ms, refresh threshold is ${po} ticks`),s<=po&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ih)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await wn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=da(s.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+D0>s)return r;const{data:i,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:y}=await this.getSession();if(y||!x.session)return{data:null,error:y};r=x.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=da(r);n!=null&&n.allowExpired||lg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:i,header:s,signature:a},error:null}}const d=ug(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,J0(`${l}.${u}`)))throw new yo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}Hr.nextInstanceID=0;const Sg=Hr;class Ng extends Sg{constructor(e){super(e)}}var Eg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{c(r.next(d))}catch(h){a(h)}}function u(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class Cg{constructor(e,n,r){var s,i,a;this.supabaseUrl=e,this.supabaseKey=n;const l=I0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:b0,realtime:S0,auth:Object.assign(Object.assign({},j0),{storageKey:u}),global:k0},d=A0(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=T0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new qm(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new x0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new _m(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Eg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:a,flowType:l,lock:u,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ng({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new a0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Tg=(t,e,n)=>new Cg(t,e,n);function Pg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Pg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Og="https://ddqayedrbldmaqkbkuro.supabase.co",Ag="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkcWF5ZWRyYmxkbWFxa2JrdXJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0MTQ5NjcsImV4cCI6MjA3NTk5MDk2N30.Da3b-6YLgRrd2hMRHLpiUa-M8ooGW3g4qS531FY_NoA",I=Tg(Og,Ag,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Rh=C.createContext(void 0);function Ig({children:t}){const[e,n]=C.useState(null),[r,s]=C.useState(null),[i,a]=C.useState(null),[l,u]=C.useState(!0),c=async _=>{try{const{data:b,error:g}=await I.from("user_profiles").select("*").eq("id",_).maybeSingle();if(g)throw g;s(b)}catch(b){console.error("Error fetching profile:",b),s(null)}};C.useEffect(()=>{I.auth.getSession().then(({data:{session:b}})=>{a(b),n((b==null?void 0:b.user)??null),b!=null&&b.user&&c(b.user.id),u(!1)});const{data:{subscription:_}}=I.auth.onAuthStateChange((b,g)=>{(async()=>(a(g),n((g==null?void 0:g.user)??null),g!=null&&g.user?await c(g.user.id):s(null),u(!1)))()});return()=>_.unsubscribe()},[]);const y={user:e,profile:r,session:i,loading:l,signIn:async(_,b)=>{try{const m=await fetch("https://ddqayedrbldmaqkbkuro.supabase.co/functions/v1/login",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkcWF5ZWRyYmxkbWFxa2JrdXJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0MTQ5NjcsImV4cCI6MjA3NTk5MDk2N30.Da3b-6YLgRrd2hMRHLpiUa-M8ooGW3g4qS531FY_NoA"},body:JSON.stringify({netId:_,password:b})}),p=await m.json();if(!m.ok)return{error:new Error(p.error||"Login failed")};const{error:w}=await I.auth.setSession({access_token:p.session.access_token,refresh_token:p.session.refresh_token});return w?{error:w}:{error:null}}catch(g){return{error:g}}},signOut:async()=>{await I.auth.signOut(),n(null),s(null),a(null)},updatePassword:async _=>{try{const{error:b}=await I.auth.updateUser({password:_});return b?{error:b}:(r!=null&&r.temporary_password&&(await I.from("user_profiles").update({temporary_password:!1}).eq("id",e.id),await c(e.id)),{error:null})}catch(b){return{error:b}}},refreshProfile:async()=>{e&&await c(e.id)}};return o.jsx(Rh.Provider,{value:y,children:t})}function st(){const t=C.useContext(Rh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...c},d)=>C.createElement("svg",{ref:d,...Rg,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Lg(t)}`,l].join(" "),...c},[...e.map(([h,f])=>C.createElement(h,f)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=B("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=B("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=B("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=B("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=B("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=B("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=B("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=B("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=B("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=B("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Vg(){const[t,e]=C.useState("database"),[n,r]=C.useState({supabaseUrl:"https://ddqayedrbldmaqkbkuro.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkcWF5ZWRyYmxkbWFxa2JrdXJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0MTQ5NjcsImV4cCI6MjA3NTk5MDk2N30.Da3b-6YLgRrd2hMRHLpiUa-M8ooGW3g4qS531FY_NoA"}),[s,i]=C.useState({netId:"",email:"",fullName:"",password:"",confirmPassword:""}),[a,l]=C.useState(!1),[u,c]=C.useState(""),d=async f=>{f.preventDefault(),c(""),l(!0);try{if(!(await fetch(`${n.supabaseUrl}/functions/v1/check-setup`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.supabaseAnonKey}`}})).ok)throw new Error("Unable to connect to database. Please check your credentials.");e("admin")}catch(x){c(x instanceof Error?x.message:"Failed to connect to database")}finally{l(!1)}},h=async f=>{if(f.preventDefault(),c(""),s.password!==s.confirmPassword){c("Passwords do not match");return}if(s.password.length<8){c("Password must be at least 8 characters");return}l(!0);try{const x=`${n.supabaseUrl}/functions/v1/create-first-admin`,y=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.supabaseAnonKey}`},body:JSON.stringify({netId:s.netId,email:s.email,fullName:s.fullName,password:s.password})}),_=await y.json();if(!y.ok)throw new Error(_.error||"Failed to create administrator");e("success")}catch(x){c(x instanceof Error?x.message:"An error occurred")}finally{l(!1)}};return t==="database"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"bg-slate-900 p-4 rounded-2xl",children:o.jsx(Vr,{className:"w-12 h-12 text-white"})})}),o.jsx("h1",{className:"text-2xl font-bold text-center text-slate-900 mb-2",children:"University Key Management System"}),o.jsx("p",{className:"text-sm text-center text-slate-600 mb-2",children:"Step 1 of 2: Database Configuration"}),o.jsx("p",{className:"text-xs text-center text-slate-400 mb-6",children:"Designed by Hector Reyes & Oscar Melo"}),u&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-700",children:u})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Supabase URL"}),o.jsx("input",{type:"url",value:n.supabaseUrl,onChange:f=>r({...n,supabaseUrl:f.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"https://your-project.supabase.co",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Supabase Anon Key"}),o.jsx("textarea",{value:n.supabaseAnonKey,onChange:f=>r({...n,supabaseAnonKey:f.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition font-mono text-xs",placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",rows:3,required:!0,disabled:a})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-slate-900 text-white py-2.5 rounded-lg font-medium hover:bg-slate-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Testing Connection...":"Continue to Admin Setup"})]})]})})}):t==="success"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"bg-green-500 p-4 rounded-2xl",children:o.jsx(Mh,{className:"w-12 h-12 text-white"})})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Setup Complete!"}),o.jsx("p",{className:"text-slate-600 mb-4",children:"Your super administrator account has been created successfully."}),o.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"University Key Management System by Hector Reyes & Oscar Melo"}),o.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-6 text-left",children:[o.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Login Credentials:"}),o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"NetID:"})," ",s.netId]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",s.email]})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-slate-900 text-white py-2.5 rounded-lg font-medium hover:bg-slate-800 transition",children:"Go to Login"})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"bg-slate-900 p-4 rounded-2xl",children:o.jsx(xl,{className:"w-12 h-12 text-white"})})}),o.jsx("h1",{className:"text-2xl font-bold text-center text-slate-900 mb-2",children:"Create Super Administrator"}),o.jsx("p",{className:"text-sm text-center text-slate-600 mb-8",children:"Step 2 of 2: Create your first Super Administrator account"}),u&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-700",children:u})}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),o.jsx("input",{type:"text",value:s.fullName,onChange:f=>i({...s,fullName:f.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"John Doe",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"NetID"}),o.jsx("input",{type:"text",value:s.netId,onChange:f=>i({...s,netId:f.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"admin",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:s.email,onChange:f=>i({...s,email:f.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"admin@university.edu",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),o.jsx("input",{type:"password",value:s.password,onChange:f=>i({...s,password:f.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"Minimum 8 characters",required:!0,disabled:a,minLength:8})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password"}),o.jsx("input",{type:"password",value:s.confirmPassword,onChange:f=>i({...s,confirmPassword:f.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"Confirm your password",required:!0,disabled:a,minLength:8})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-slate-900 text-white py-2.5 rounded-lg font-medium hover:bg-slate-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create Administrator"})]})]})})})}function Jg(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[a,l]=C.useState(!1),{signIn:u}=st(),c=async d=>{d.preventDefault(),i(""),l(!0);const{error:h}=await u(t,n);h&&i(h.message),l(!1)};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"bg-slate-900 p-4 rounded-2xl",children:o.jsx(xl,{className:"w-12 h-12 text-white"})})}),o.jsx("h1",{className:"text-2xl font-bold text-center text-slate-900 mb-2",children:"University Key Management System"}),o.jsx("p",{className:"text-sm text-center text-slate-600 mb-6",children:"Multi-Campus Key Management Solution"}),o.jsx("p",{className:"text-xs text-center text-slate-400 mb-8",children:"Designed by Hector Reyes & Oscar Melo"}),s&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-700",children:s})}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"netId",className:"block text-sm font-medium text-slate-700 mb-1",children:"NetID"}),o.jsx("input",{id:"netId",type:"text",value:t,onChange:d=>e(d.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"Enter your NetID",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),o.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"Enter your password",required:!0,disabled:a})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-slate-900 text-white py-2.5 rounded-lg font-medium hover:bg-slate-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Signing in...":"Sign In"})]})]}),o.jsx("p",{className:"text-center text-sm text-slate-600 mt-6",children:"Authorized personnel only"})]})})}function Gg(){const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[a,l]=C.useState(!1),{updatePassword:u,profile:c}=st(),d=async h=>{if(h.preventDefault(),i(""),t.length<8){i("Password must be at least 8 characters long");return}if(t!==n){i("Passwords do not match");return}l(!0);const{error:f}=await u(t);f&&(i(f.message),l(!1))};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"bg-amber-500 p-4 rounded-2xl",children:o.jsx(Bg,{className:"w-12 h-12 text-white"})})}),o.jsx("h1",{className:"text-2xl font-bold text-center text-slate-900 mb-2",children:"Change Password Required"}),o.jsxs("p",{className:"text-sm text-center text-slate-600 mb-8",children:["Welcome, ",c==null?void 0:c.full_name,". Please set a new password to continue."]}),o.jsxs("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-lg flex gap-3",children:[o.jsx($g,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-amber-800",children:[o.jsx("p",{className:"font-medium mb-1",children:"Password Requirements:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[o.jsx("li",{children:"At least 8 characters long"}),o.jsx("li",{children:"Use a strong, unique password"})]})]})]}),s&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-700",children:s})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),o.jsx("input",{id:"newPassword",type:"password",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"Enter new password",required:!0,disabled:a})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm Password"}),o.jsx("input",{id:"confirmPassword",type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none transition",placeholder:"Confirm new password",required:!0,disabled:a})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-slate-900 text-white py-2.5 rounded-lg font-medium hover:bg-slate-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Updating...":"Update Password"})]})]})})})}function Qg({children:t,currentView:e,onNavigate:n}){const{profile:r,signOut:s}=st(),[i,a]=C.useState(!0),l=(r==null?void 0:r.role)==="administrator"||(r==null?void 0:r.role)==="super_administrator",u=l,c=l,d=l,h=(r==null?void 0:r.role)==="super_administrator",f=[{id:"dashboard",label:"Dashboard",icon:Fg,show:!0},{id:"campuses",label:"Campuses",icon:wl,show:!0},{id:"buildings",label:"Buildings",icon:vl,show:!0},{id:"key-systems",label:"Key Systems",icon:Vr,show:!0},{id:"keys",label:"Keys",icon:hi,show:!0},{id:"reports",label:"Reports",icon:$h,show:!0},{id:"users",label:"User Management",icon:zh,show:l},{id:"audit-logs",label:"Audit Logs",icon:Uh,show:u},{id:"error-reports",label:"Error Reports",icon:Lh,show:c},{id:"backup",label:"Backup & Export",icon:Vr,show:d},{id:"system-config",label:"System Configuration",icon:Dh,show:h}],x=_=>{switch(_){case"super_administrator":return"bg-red-100 text-red-700 border-red-200";case"administrator":return"bg-blue-100 text-blue-700 border-blue-200";case"standard_user":return"bg-green-100 text-green-700 border-green-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},y=_=>{switch(_){case"super_administrator":return"Super Admin";case"administrator":return"Administrator";case"standard_user":return"Standard User";case"basic_user":return"Basic User";default:return _}};return o.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[o.jsxs("aside",{className:`${i?"w-64":"w-20"} bg-white border-r border-slate-200 transition-all duration-300 flex flex-col`,children:[o.jsxs("div",{className:"h-16 border-b border-slate-200 flex items-center justify-between px-4",children:[i&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-slate-900 p-2 rounded-lg",children:o.jsx(xl,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-bold text-slate-900 text-sm",children:"UKMS"}),o.jsx("span",{className:"text-[9px] text-slate-500 leading-tight",children:"by HR & OM"})]})]}),o.jsx("button",{onClick:()=>a(!i),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:i?o.jsx(Fh,{className:"w-5 h-5 text-slate-600"}):o.jsx(qg,{className:"w-5 h-5 text-slate-600"})})]}),o.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:f.filter(_=>_.show).map(_=>{const b=_.icon,g=e===_.id;return o.jsxs("button",{onClick:()=>n(_.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${g?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-100"}`,title:i?"":_.label,children:[o.jsx(b,{className:"w-5 h-5 flex-shrink-0"}),i&&o.jsx("span",{className:"text-sm font-medium",children:_.label})]},_.id)})}),o.jsx("div",{className:"border-t border-slate-200 p-4",children:i?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:r==null?void 0:r.full_name}),o.jsx("p",{className:"text-xs text-slate-600 truncate",children:r==null?void 0:r.net_id}),o.jsx("span",{className:`inline-block mt-2 text-xs font-medium px-2 py-1 rounded border ${x((r==null?void 0:r.role)||"")}`,children:y((r==null?void 0:r.role)||"")})]}),o.jsxs("button",{onClick:s,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-700 hover:bg-red-50 rounded-lg transition",children:[o.jsx(Gu,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign Out"})]})]}):o.jsx("button",{onClick:s,className:"w-full p-2 text-red-700 hover:bg-red-50 rounded-lg transition",title:"Sign Out",children:o.jsx(Gu,{className:"w-5 h-5"})})})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx("div",{className:"p-8",children:t})})]})}function Qu(){const[t,e]=C.useState({campuses:0,buildings:0,totalKeys:0,assignedKeys:0,unassignedKeys:0,users:0}),[n,r]=C.useState(!0);C.useEffect(()=>{s()},[]);const s=async()=>{var a,l;try{const[u,c,d,h]=await Promise.all([I.from("campuses").select("id",{count:"exact",head:!0}),I.from("buildings").select("id",{count:"exact",head:!0}),I.from("keys").select("id, status",{count:"exact"}),I.from("user_profiles").select("id",{count:"exact",head:!0})]),f=((a=d.data)==null?void 0:a.filter(y=>y.status==="assigned").length)||0,x=((l=d.data)==null?void 0:l.filter(y=>y.status==="unassigned").length)||0;e({campuses:u.count||0,buildings:c.count||0,totalKeys:d.count||0,assignedKeys:f,unassignedKeys:x,users:h.count||0})}catch(u){console.error("Error fetching stats:",u)}finally{r(!1)}},i=[{label:"Total Campuses",value:t.campuses,icon:wl,color:"bg-blue-500"},{label:"Total Buildings",value:t.buildings,icon:vl,color:"bg-green-500"},{label:"Total Keys",value:t.totalKeys,icon:hi,color:"bg-slate-500"},{label:"Assigned Keys",value:t.assignedKeys,icon:Kg,color:"bg-emerald-500"},{label:"Available Keys",value:t.unassignedKeys,icon:hi,color:"bg-amber-500"},{label:"System Users",value:t.users,icon:zh,color:"bg-slate-600"}];return n?o.jsxs("div",{className:"space-y-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,l)=>o.jsxs("div",{className:"bg-white rounded-xl p-6 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/3"})]},l))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Overview of the University Key Management System"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((a,l)=>{const u=a.icon;return o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-600 mb-2",children:a.label}),o.jsx("p",{className:"text-3xl font-bold text-slate-900",children:a.value})]}),o.jsx("div",{className:`${a.color} p-3 rounded-xl`,children:o.jsx(u,{className:"w-6 h-6 text-white"})})]})},l)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"System Status"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Database Connection"}),o.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-green-700 font-medium",children:"Connected"})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"System Health"}),o.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-green-700 font-medium",children:"Operational"})]})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Key Utilization"}),o.jsxs("span",{className:"text-sm font-medium text-slate-900",children:[t.totalKeys>0?Math.round(t.assignedKeys/t.totalKeys*100):0,"%"]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"View All Keys"}),o.jsx("button",{className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Generate Report"}),o.jsx("button",{className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Assign New Key"})]})]})]})]})}function as(){const{profile:t}=st();return{logAction:async(n,r,s,i)=>{if(t)try{await I.from("audit_logs").insert({user_id:t.id,user_net_id:t.net_id,user_full_name:t.full_name,action_type:n,entity_type:r,description:s,entity_id:(i==null?void 0:i.entityId)||null,campus_id:(i==null?void 0:i.campusId)||null,building_id:(i==null?void 0:i.buildingId)||null,metadata:(i==null?void 0:i.metadata)||{}})}catch(a){console.error("Failed to log action:",a)}}}}function Yg(){const{profile:t}=st(),{logAction:e}=as(),[n,r]=C.useState([]),[s,i]=C.useState(!0),[a,l]=C.useState(""),[u,c]=C.useState(!1),[d,h]=C.useState(null),[f,x]=C.useState({name:"",code:"",address:"",active:!0}),y=(t==null?void 0:t.role)==="administrator"||(t==null?void 0:t.role)==="super_administrator";C.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:w,error:S}=await I.from("campuses").select("*").order("name");if(S)throw S;r(w||[])}catch(w){console.error("Error fetching campuses:",w)}finally{i(!1)}},b=async w=>{w.preventDefault();try{if(d){const{error:S}=await I.from("campuses").update({...f,updated_at:new Date().toISOString()}).eq("id",d.id);if(S)throw S;await e("update","campus",`Updated campus: ${f.name}`,{entityId:d.id,metadata:f})}else{const{data:S,error:v}=await I.from("campuses").insert([f]).select().single();if(v)throw v;await e("create","campus",`Created campus: ${f.name}`,{entityId:S.id,metadata:f})}c(!1),h(null),x({name:"",code:"",address:"",active:!0}),_()}catch(S){console.error("Error saving campus:",S),alert("Error saving campus. Please try again.")}},g=w=>{h(w),x({name:w.name,code:w.code,address:w.address,active:w.active}),c(!0)},m=async w=>{if(confirm(`Are you sure you want to delete "${w.name}"?`))try{const{error:S}=await I.from("campuses").delete().eq("id",w.id);if(S)throw S;await e("delete","campus",`Deleted campus: ${w.name}`,{entityId:w.id,metadata:{name:w.name,code:w.code}}),_()}catch(S){console.error("Error deleting campus:",S),alert("Error deleting campus. It may have associated buildings or keys.")}},p=n.filter(w=>w.name.toLowerCase().includes(a.toLowerCase())||w.code.toLowerCase().includes(a.toLowerCase()));return s?o.jsx("div",{className:"text-center py-12",children:"Loading campuses..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Campuses"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage university campuses"})]}),y&&o.jsxs("button",{onClick:()=>{h(null),x({name:"",code:"",address:"",active:!0}),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition",children:[o.jsx(rs,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Campus"})]})]}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:d?"Edit Campus":"Add Campus"}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Campus Name"}),o.jsx("input",{type:"text",value:f.name,onChange:w=>x({...f,name:w.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Campus Code"}),o.jsx("input",{type:"text",value:f.code,onChange:w=>x({...f,code:w.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),o.jsx("textarea",{value:f.address,onChange:w=>x({...f,address:w.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",rows:3})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"active",checked:f.active,onChange:w=>x({...f,active:w.target.checked}),className:"w-4 h-4 text-slate-900 border-slate-300 rounded focus:ring-slate-900"}),o.jsx("label",{htmlFor:"active",className:"text-sm text-slate-700",children:"Active"})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition",children:d?"Update":"Create"}),o.jsx("button",{type:"button",onClick:()=>{c(!1),h(null)},className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search campuses...",value:a,onChange:w=>l(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Campus"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Address"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Status"}),y&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[p.map(w=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-slate-100 p-2 rounded-lg",children:o.jsx(wl,{className:"w-5 h-5 text-slate-600"})}),o.jsx("span",{className:"font-medium text-slate-900",children:w.name})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:w.code}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:w.address||"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${w.active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:w.active?"Active":"Inactive"})}),y&&o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>g(w),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:o.jsx(ns,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>m(w),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",children:o.jsx(is,{className:"w-4 h-4"})})]})})]},w.id)),p.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:y?5:4,className:"px-6 py-12 text-center text-slate-500",children:"No campuses found"})})]})]})})]})]})}function Xg(){const{profile:t}=st(),{logAction:e}=as(),[n,r]=C.useState([]),[s,i]=C.useState([]),[a,l]=C.useState(!0),[u,c]=C.useState(""),[d,h]=C.useState(!1),[f,x]=C.useState(null),[y,_]=C.useState({name:"",code:"",address:"",campus_id:"",active:!0}),b=(t==null?void 0:t.role)==="administrator"||(t==null?void 0:t.role)==="super_administrator";C.useEffect(()=>{g()},[]);const g=async()=>{try{const[v,k]=await Promise.all([I.from("buildings").select("*, campus:campuses(name)").order("name"),I.from("campuses").select("id, name").eq("active",!0).order("name")]);v.data&&r(v.data),k.data&&i(k.data)}catch(v){console.error("Error fetching data:",v)}finally{l(!1)}},m=async v=>{v.preventDefault();try{if(f){const{error:k}=await I.from("buildings").update({...y,updated_at:new Date().toISOString()}).eq("id",f.id);if(k)throw k;await e("update","building",`Updated building: ${y.name}`,{entityId:f.id,metadata:y})}else{const{data:k,error:P}=await I.from("buildings").insert([y]).select().single();if(P)throw P;await e("create","building",`Created building: ${y.name}`,{entityId:k.id,metadata:y})}h(!1),x(null),_({name:"",code:"",address:"",campus_id:"",active:!0}),g()}catch(k){console.error("Error saving building:",k),alert("Error saving building. Please try again.")}},p=v=>{x(v),_({name:v.name,code:v.code,address:v.address,campus_id:v.campus_id,active:v.active}),h(!0)},w=async v=>{if(confirm(`Are you sure you want to delete "${v.name}"?`))try{const{error:k}=await I.from("buildings").delete().eq("id",v.id);if(k)throw k;await e("delete","building",`Deleted building: ${v.name}`,{entityId:v.id,metadata:{name:v.name,code:v.code}}),g()}catch(k){console.error("Error deleting building:",k),alert("Error deleting building. It may have associated keys.")}},S=n.filter(v=>v.name.toLowerCase().includes(u.toLowerCase())||v.code.toLowerCase().includes(u.toLowerCase()));return a?o.jsx("div",{className:"text-center py-12",children:"Loading buildings..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Buildings"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage buildings across campuses"})]}),b&&o.jsxs("button",{onClick:()=>{x(null),_({name:"",code:"",address:"",campus_id:"",active:!0}),h(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition",children:[o.jsx(rs,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Building"})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:f?"Edit Building":"Add Building"}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Campus"}),o.jsxs("select",{value:y.campus_id,onChange:v=>_({...y,campus_id:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0,children:[o.jsx("option",{value:"",children:"Select Campus"}),s.map(v=>o.jsx("option",{value:v.id,children:v.name},v.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Building Name"}),o.jsx("input",{type:"text",value:y.name,onChange:v=>_({...y,name:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Building Code"}),o.jsx("input",{type:"text",value:y.code,onChange:v=>_({...y,code:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),o.jsx("textarea",{value:y.address,onChange:v=>_({...y,address:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",rows:3})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"active",checked:y.active,onChange:v=>_({...y,active:v.target.checked}),className:"w-4 h-4 text-slate-900 border-slate-300 rounded focus:ring-slate-900"}),o.jsx("label",{htmlFor:"active",className:"text-sm text-slate-700",children:"Active"})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition",children:f?"Update":"Create"}),o.jsx("button",{type:"button",onClick:()=>{h(!1),x(null)},className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search buildings...",value:u,onChange:v=>c(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Building"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Campus"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Address"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Status"}),b&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[S.map(v=>{var k;return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-slate-100 p-2 rounded-lg",children:o.jsx(vl,{className:"w-5 h-5 text-slate-600"})}),o.jsx("span",{className:"font-medium text-slate-900",children:v.name})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.code}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:((k=v.campus)==null?void 0:k.name)||"-"}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.address||"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${v.active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:v.active?"Active":"Inactive"})}),b&&o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>p(v),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:o.jsx(ns,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>w(v),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",children:o.jsx(is,{className:"w-4 h-4"})})]})})]},v.id)}),S.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:b?6:5,className:"px-6 py-12 text-center text-slate-500",children:"No buildings found"})})]})]})})]})]})}function Zg(){const{profile:t}=st(),{logAction:e}=as(),[n,r]=C.useState([]),[s,i]=C.useState([]),[a,l]=C.useState(!0),[u,c]=C.useState(""),[d,h]=C.useState(!1),[f,x]=C.useState(null),[y,_]=C.useState({name:"",brand:"",campus_id:"",description:"",active:!0}),b=(t==null?void 0:t.role)==="administrator"||(t==null?void 0:t.role)==="super_administrator";C.useEffect(()=>{g()},[]);const g=async()=>{try{const[v,k]=await Promise.all([I.from("key_systems").select("*, campus:campuses(name)").order("name"),I.from("campuses").select("id, name").eq("active",!0).order("name")]);v.data&&r(v.data),k.data&&i(k.data)}catch(v){console.error("Error fetching data:",v)}finally{l(!1)}},m=async v=>{v.preventDefault();try{if(f){const{error:k}=await I.from("key_systems").update({...y,updated_at:new Date().toISOString()}).eq("id",f.id);if(k)throw k;await e("update","system",`Updated key system: ${y.name}`,{entityId:f.id,metadata:y})}else{const{data:k,error:P}=await I.from("key_systems").insert([y]).select().single();if(P)throw P;await e("create","system",`Created key system: ${y.name}`,{entityId:k.id,metadata:y})}h(!1),x(null),_({name:"",brand:"",campus_id:"",description:"",active:!0}),g()}catch(k){console.error("Error saving key system:",k),alert("Error saving key system. Please try again.")}},p=v=>{x(v),_({name:v.name,brand:v.brand,campus_id:v.campus_id,description:v.description,active:v.active}),h(!0)},w=async v=>{if(confirm(`Are you sure you want to delete "${v.name}"?`))try{const{error:k}=await I.from("key_systems").delete().eq("id",v.id);if(k)throw k;await e("delete","system",`Deleted key system: ${v.name}`,{entityId:v.id,metadata:{name:v.name,brand:v.brand}}),g()}catch(k){console.error("Error deleting key system:",k),alert("Error deleting key system. It may have associated keys.")}},S=n.filter(v=>v.name.toLowerCase().includes(u.toLowerCase())||v.brand.toLowerCase().includes(u.toLowerCase()));return a?o.jsx("div",{className:"text-center py-12",children:"Loading key systems..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Key Systems"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage key systems, brands, and specifications"})]}),b&&o.jsxs("button",{onClick:()=>{x(null),_({name:"",brand:"",campus_id:"",description:"",active:!0}),h(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition",children:[o.jsx(rs,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Key System"})]})]}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:f?"Edit Key System":"Add Key System"}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"System Name"}),o.jsx("input",{type:"text",value:y.name,onChange:v=>_({...y,name:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",placeholder:"e.g., Main Building System",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Brand"}),o.jsx("input",{type:"text",value:y.brand,onChange:v=>_({...y,brand:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",placeholder:"e.g., Medeco, Schlage, Yale",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Campus"}),o.jsxs("select",{value:y.campus_id,onChange:v=>_({...y,campus_id:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0,children:[o.jsx("option",{value:"",children:"Select Campus"}),s.map(v=>o.jsx("option",{value:v.id,children:v.name},v.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),o.jsx("textarea",{value:y.description,onChange:v=>_({...y,description:v.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",rows:3,placeholder:"System details, specifications, notes..."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"active",checked:y.active,onChange:v=>_({...y,active:v.target.checked}),className:"w-4 h-4 text-slate-900 border-slate-300 rounded focus:ring-slate-900"}),o.jsx("label",{htmlFor:"active",className:"text-sm text-slate-700",children:"Active"})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition",children:f?"Update":"Create"}),o.jsx("button",{type:"button",onClick:()=>{h(!1),x(null)},className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition",children:"Cancel"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search key systems...",value:u,onChange:v=>c(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"System Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Brand"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Campus"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Description"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Status"}),b&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-200",children:[S.map(v=>{var k;return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-slate-100 p-2 rounded-lg",children:o.jsx(Vr,{className:"w-5 h-5 text-slate-600"})}),o.jsx("span",{className:"font-medium text-slate-900",children:v.name})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.brand}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:((k=v.campus)==null?void 0:k.name)||"-"}),o.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.description||"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${v.active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:v.active?"Active":"Inactive"})}),b&&o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>p(v),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition",children:o.jsx(ns,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>w(v),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",children:o.jsx(is,{className:"w-4 h-4"})})]})})]},v.id)}),S.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:b?6:5,className:"px-6 py-12 text-center text-slate-500",children:"No key systems found"})})]})]})})]})]})}function ey(){const{profile:t}=st(),{logAction:e}=as(),[n,r]=C.useState([]),[s,i]=C.useState([]),[a,l]=C.useState([]),[u,c]=C.useState([]),[d,h]=C.useState([]),[f,x]=C.useState(!0),[y,_]=C.useState(""),[b,g]=C.useState(""),[m,p]=C.useState(""),[w,S]=C.useState("all"),[v,k]=C.useState(!1),[P,K]=C.useState(!1),[L,de]=C.useState(null),[we,it]=C.useState(null),[se,Ee]=C.useState({key_system_id:"",key_code:"",room_number:"",building_id:"",notes:""}),T=(t==null?void 0:t.role)==="administrator"||(t==null?void 0:t.role)==="super_administrator";C.useEffect(()=>{M()},[]);const M=async()=>{try{const[j,q,he,Le,Ce]=await Promise.all([I.from("keys").select("*, key_system:key_systems(name, brand, campus_id), building:buildings(name, campus_id), assigned_user:user_profiles!keys_assigned_to_user_id_fkey(full_name, net_id)").order("key_code"),I.from("buildings").select("id, name, campus_id").eq("active",!0).order("name"),I.from("key_systems").select("id, name, brand, campus_id").eq("active",!0).order("name"),I.from("user_profiles").select("id, net_id, full_name").eq("active",!0).order("full_name"),I.from("campuses").select("id, name").eq("active",!0).order("name")]);j.data&&r(j.data),q.data&&i(q.data),he.data&&l(he.data),Le.data&&h(Le.data),Ce.data&&c(Ce.data)}catch(j){console.error("Error:",j)}finally{x(!1)}},E=async j=>{j.preventDefault();try{if(L)await I.from("keys").update({...se,updated_at:new Date().toISOString()}).eq("id",L.id),await e("update","key","Updated key: "+se.key_code,{entityId:L.id});else{const{data:q}=await I.from("keys").insert([{...se,status:"unassigned"}]).select().single();await e("create","key","Created key: "+se.key_code,{entityId:q==null?void 0:q.id})}k(!1),de(null),Ee({key_system_id:"",key_code:"",room_number:"",building_id:"",notes:""}),M()}catch{alert("Error saving key")}},A=async j=>{if(j.preventDefault(),!we)return;const q=j.target.user_id.value;try{await I.from("keys").update({status:"assigned",assigned_to_user_id:q,assigned_at:new Date().toISOString()}).eq("id",we.id),await e("assign","key","Assigned key "+we.key_code,{entityId:we.id}),K(!1),it(null),M()}catch{alert("Error assigning key")}},R=async j=>{if(confirm("Unassign this key?"))try{await I.from("keys").update({status:"unassigned",assigned_to_user_id:null,assigned_at:null}).eq("id",j.id),await e("unassign","key","Unassigned key "+j.key_code,{entityId:j.id}),M()}catch{alert("Error unassigning key")}},Q=async j=>{if(confirm("Delete this key?"))try{await I.from("keys").delete().eq("id",j.id),await e("delete","key","Deleted key "+j.key_code,{entityId:j.id}),M()}catch{alert("Error deleting key")}},ne=()=>{const j=n.map(Ce=>{var ft,_e,Qt;return{key_code:Ce.key_code,system:(ft=Ce.key_system)==null?void 0:ft.name,building:(_e=Ce.building)==null?void 0:_e.name,room:Ce.room_number,assigned_to:(Qt=Ce.assigned_user)==null?void 0:Qt.full_name,status:Ce.status,notes:Ce.notes}}),q=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),he=URL.createObjectURL(q),Le=document.createElement("a");Le.href=he,Le.download="keys-"+new Date().toISOString().split("T")[0]+".json",Le.click()},yn=()=>{const j=["Key Code","System","Building","Room","Assigned To","Status","Notes"],q=n.map(_e=>{var Qt,_l,kl;return[_e.key_code,((Qt=_e.key_system)==null?void 0:Qt.name)||"",((_l=_e.building)==null?void 0:_l.name)||"",_e.room_number||"",((kl=_e.assigned_user)==null?void 0:kl.full_name)||"",_e.status,_e.notes]}),he=[j,...q].map(_e=>_e.map(Qt=>'"'+Qt+'"').join(",")).join(`
`),Le=new Blob([he],{type:"text/csv"}),Ce=URL.createObjectURL(Le),ft=document.createElement("a");ft.href=Ce,ft.download="keys-"+new Date().toISOString().split("T")[0]+".csv",ft.click()},at=n.filter(j=>{var ft,_e;const q=j.key_code.toLowerCase().includes(y.toLowerCase())||j.room_number&&j.room_number.toLowerCase().includes(y.toLowerCase()),he=!b||((ft=j.building)==null?void 0:ft.campus_id)===b||((_e=j.key_system)==null?void 0:_e.campus_id)===b,Le=!m||j.building_id===m,Ce=w==="all"||j.status===w;return q&&he&&Le&&Ce});return f?o.jsx("div",{className:"text-center py-12",children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Keys"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage keys and assignments"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:[o.jsx(vo,{className:"w-4 h-4"}),o.jsx("span",{children:"JSON"})]}),o.jsxs("button",{onClick:yn,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[o.jsx(vo,{className:"w-4 h-4"}),o.jsx("span",{children:"CSV"})]}),T&&o.jsxs("button",{onClick:()=>{de(null),Ee({key_system_id:"",key_code:"",room_number:"",building_id:"",notes:""}),k(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800",children:[o.jsx(rs,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Key"})]})]})]}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:L?"Edit Key":"Add Key"}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Key System"}),o.jsxs("select",{value:se.key_system_id,onChange:j=>Ee({...se,key_system_id:j.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[o.jsx("option",{value:"",children:"Select"}),a.map(j=>o.jsxs("option",{value:j.id,children:[j.name," - ",j.brand]},j.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Key Code"}),o.jsx("input",{type:"text",value:se.key_code,onChange:j=>Ee({...se,key_code:j.target.value}),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Building"}),o.jsxs("select",{value:se.building_id,onChange:j=>Ee({...se,building_id:j.target.value}),className:"w-full px-3 py-2 border rounded-lg",children:[o.jsx("option",{value:"",children:"Select"}),s.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Room Number"}),o.jsx("input",{type:"text",value:se.room_number,onChange:j=>Ee({...se,room_number:j.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Any room number"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),o.jsx("textarea",{value:se.notes,onChange:j=>Ee({...se,notes:j.target.value}),className:"w-full px-3 py-2 border rounded-lg",rows:3,placeholder:"Key details, location, restrictions..."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg",children:"Save"}),o.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 px-4 py-2 bg-slate-200 rounded-lg",children:"Cancel"})]})]})]})}),P&&we&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Assign Key ",we.key_code]}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"User"}),o.jsxs("select",{name:"user_id",className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[o.jsx("option",{value:"",children:"Select"}),d.map(j=>o.jsxs("option",{value:j.id,children:[j.full_name," (",j.net_id,")"]},j.id))]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg",children:"Assign"}),o.jsx("button",{type:"button",onClick:()=>K(!1),className:"flex-1 px-4 py-2 bg-slate-200 rounded-lg",children:"Cancel"})]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[o.jsxs("div",{className:"p-4 border-b space-y-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search by key code or room...",value:y,onChange:j=>_(j.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]}),u.length>1&&o.jsxs("select",{value:b,onChange:j=>{g(j.target.value),p("")},className:"px-4 py-2 border rounded-lg",children:[o.jsx("option",{value:"",children:"All Campuses"}),u.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]}),o.jsxs("select",{value:m,onChange:j=>p(j.target.value),className:"px-4 py-2 border rounded-lg",children:[o.jsx("option",{value:"",children:"All Buildings"}),s.filter(j=>!b||j.campus_id===b).map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]}),o.jsxs("select",{value:w,onChange:j=>S(j.target.value),className:"px-4 py-2 border rounded-lg",children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"assigned",children:"Assigned"}),o.jsx("option",{value:"unassigned",children:"Available"})]})]}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("div",{children:["Total: ",o.jsx("strong",{children:n.length})]}),o.jsxs("div",{children:["Assigned: ",o.jsx("strong",{className:"text-emerald-600",children:n.filter(j=>j.status==="assigned").length})]}),o.jsxs("div",{children:["Available: ",o.jsx("strong",{className:"text-amber-600",children:n.filter(j=>j.status==="unassigned").length})]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase",children:"Key Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase",children:"System"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase",children:"Assigned To"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-700 uppercase",children:"Status"}),T&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-700 uppercase",children:"Actions"})]})}),o.jsxs("tbody",{className:"divide-y",children:[at.map(j=>{var q,he,Le;return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-slate-100 p-2 rounded-lg",children:o.jsx(hi,{className:"w-5 h-5 text-slate-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:j.key_code}),j.notes&&o.jsx("div",{className:"text-xs text-slate-500",children:j.notes})]})]})}),o.jsxs("td",{className:"px-6 py-4 text-sm",children:[o.jsx("div",{children:(q=j.key_system)==null?void 0:q.name}),o.jsx("div",{className:"text-xs text-slate-500",children:(he=j.key_system)==null?void 0:he.brand})]}),o.jsxs("td",{className:"px-6 py-4 text-sm",children:[o.jsx("div",{children:((Le=j.building)==null?void 0:Le.name)||"-"}),j.room_number&&o.jsxs("div",{className:"text-xs text-slate-500",children:["Room ",j.room_number]})]}),o.jsx("td",{className:"px-6 py-4 text-sm",children:j.assigned_user?o.jsxs("div",{children:[o.jsx("div",{children:j.assigned_user.full_name}),o.jsx("div",{className:"text-xs text-slate-500",children:j.assigned_user.net_id})]}):"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full "+(j.status==="assigned"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:j.status==="assigned"?"Assigned":"Available"})}),T&&o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[j.status==="unassigned"?o.jsx("button",{onClick:()=>{it(j),K(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Assign",children:o.jsx(Mh,{className:"w-4 h-4"})}):o.jsx("button",{onClick:()=>R(j),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg",title:"Unassign",children:o.jsx(Hg,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{de(j),Ee({key_system_id:j.key_system_id,key_code:j.key_code,room_number:j.room_number||"",building_id:j.building_id||"",notes:j.notes}),k(!0)},className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg",title:"Edit",children:o.jsx(ns,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>Q(j),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:o.jsx(is,{className:"w-4 h-4"})})]})})]},j.id)}),at.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:T?6:5,className:"px-6 py-12 text-center text-slate-500",children:"No keys found"})})]})]})})]})]})}function ty(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Reports"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Generate and view system reports"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-4",children:o.jsx($h,{className:"w-8 h-8 text-slate-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Reports & Analytics"}),o.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"Generate comprehensive reports on key usage, assignments, audit trails, and system activity."})]})})]})}function ny(){const{user:t}=st();return{logError:async(n,r,s)=>{try{await I.from("error_logs").insert({error_type:n,severity:(s==null?void 0:s.severity)||"medium",user_id:(t==null?void 0:t.id)||null,message:r,stack_trace:(s==null?void 0:s.stackTrace)||"",context:(s==null?void 0:s.context)||{},resolved:!1})}catch(i){console.error("Failed to log error:",i)}}}}const Yu=[{value:"basic_user",label:"Basic User",description:"View-only access to assigned campuses"},{value:"standard_user",label:"Standard User",description:"Can manage keys in assigned campuses"},{value:"administrator",label:"Administrator",description:"Full access to all campuses"},{value:"super_administrator",label:"Super Administrator",description:"Full system access including configuration"}];function ry(){const{profile:t}=st(),{logAction:e}=as(),{logError:n}=ny(),[r,s]=C.useState([]),[i,a]=C.useState([]),[l,u]=C.useState({}),[c,d]=C.useState(!0),[h,f]=C.useState(""),[x,y]=C.useState(!1),[_,b]=C.useState(null),[g,m]=C.useState(!1),[p,w]=C.useState({netId:"",fullName:"",email:"",role:"basic_user",password:"",active:!0,selectedCampuses:[]});C.useEffect(()=>{S()},[]);const S=async()=>{try{d(!0);const[T,M,E]=await Promise.all([I.from("user_profiles").select("*").order("full_name"),I.from("campuses").select("*").order("name"),I.from("user_campus_permissions").select("*")]);if(T.error)throw T.error;if(M.error)throw M.error;if(E.error)throw E.error;s(T.data||[]),a(M.data||[]);const A={};(E.data||[]).forEach(R=>{A[R.user_id]||(A[R.user_id]=[]),A[R.user_id].push(R.campus_id)}),u(A)}catch(T){await n("database","high","Failed to load users",T)}finally{d(!1)}},v=()=>{b(null),w({netId:"",fullName:"",email:"",role:"basic_user",password:"",active:!0,selectedCampuses:[]}),m(!1),y(!0)},k=T=>{b(T),w({netId:T.net_id,fullName:T.full_name,email:T.email,role:T.role,password:"",active:T.active,selectedCampuses:l[T.id]||[]}),m(!1),y(!0)},P=async T=>{T.preventDefault();try{_?await L():await K(),y(!1),await S()}catch(M){await n("validation","medium","User form submission failed",M),alert(M instanceof Error?M.message:"Failed to save user")}},K=async()=>{if(!p.password)throw new Error("Password is required for new users");const{data:{session:T}}=await I.auth.getSession();if(!T)throw new Error("Not authenticated");const E=await fetch("https://ddqayedrbldmaqkbkuro.supabase.co/functions/v1/manage-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T.access_token}`},body:JSON.stringify({action:"create",data:{netId:p.netId,email:p.email,fullName:p.fullName,password:p.password,role:p.role,active:p.active,selectedCampuses:p.selectedCampuses}})}),A=await E.json();if(!E.ok)throw new Error(A.error||"Failed to create user");await e("create","user",A.userId,`Created user: ${p.fullName} (${p.netId})`)},L=async()=>{if(!_)return;const{data:{session:T}}=await I.auth.getSession();if(!T)throw new Error("Not authenticated");const E=await fetch("https://ddqayedrbldmaqkbkuro.supabase.co/functions/v1/manage-users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T.access_token}`},body:JSON.stringify({action:"update",data:{userId:_.id,netId:p.netId,email:p.email,fullName:p.fullName,password:p.password||void 0,role:p.role,active:p.active,selectedCampuses:p.selectedCampuses}})}),A=await E.json();if(!E.ok)throw new Error(A.error||"Failed to update user");await e("update","user",_.id,`Updated user: ${p.fullName} (${p.netId})`)},de=async T=>{if(confirm(`Are you sure you want to delete user "${T.full_name}"?

This will permanently remove the user and all associated data.`))try{const{error:M}=await I.from("user_profiles").delete().eq("id",T.id);if(M)throw M;await e("delete","user",T.id,`Deleted user: ${T.full_name} (${T.net_id})`),await S()}catch(M){await n("database","high","Failed to delete user",M),alert("Failed to delete user")}},we=r.filter(T=>T.full_name.toLowerCase().includes(h.toLowerCase())||T.net_id.toLowerCase().includes(h.toLowerCase())||T.email.toLowerCase().includes(h.toLowerCase())),it=T=>{var M;return((M=Yu.find(E=>E.value===T))==null?void 0:M.label)||T},se=T=>{const M=l[T]||[];return i.filter(E=>M.includes(E.id)).map(E=>E.name)},Ee=(t==null?void 0:t.role)==="administrator"||(t==null?void 0:t.role)==="super_administrator";return c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-slate-900 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"User Management"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage system users and their permissions"})]}),Ee&&o.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-slate-900 text-white px-4 py-2 rounded-lg hover:bg-slate-800 transition",children:[o.jsx(rs,{className:"w-5 h-5"}),"Add User"]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search users by name, NetID, or email...",value:h,onChange:T=>f(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"NetID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Campus Access"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),Ee&&o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200",children:we.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No users found"})}):we.map(T=>{const M=se(T.id),E=T.role==="administrator"||T.role==="super_administrator";return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900",children:T.full_name}),o.jsx("div",{className:"text-sm text-slate-500",children:T.email})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"font-mono text-sm text-slate-700",children:T.net_id})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-sm text-slate-900",children:it(T.role)})}),o.jsx("td",{className:"px-6 py-4",children:E?o.jsx("span",{className:"text-sm text-slate-500 italic",children:"All Campuses"}):M.length>0?o.jsx("div",{className:"flex flex-wrap gap-1",children:M.map((A,R)=>o.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-slate-100 text-slate-700 rounded",children:A},R))}):o.jsx("span",{className:"text-sm text-slate-400",children:"No access"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.active?"Active":"Inactive"})}),Ee&&o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>k(T),className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition",title:"Edit user",children:o.jsx(ns,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>de(T),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition",title:"Delete user",children:o.jsx(is,{className:"w-4 h-4"})})]})})]},T.id)})})]})})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-900",children:_?"Edit User":"Add New User"}),o.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-slate-100 rounded-lg transition",children:o.jsx(Fh,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name *"}),o.jsx("input",{type:"text",value:p.fullName,onChange:T=>w({...p,fullName:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"NetID *"}),o.jsx("input",{type:"text",value:p.netId,onChange:T=>w({...p,netId:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),o.jsx("input",{type:"email",value:p.email,onChange:T=>w({...p,email:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Password ",_?"(leave blank to keep current)":"*"]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:g?"text":"password",value:p.password,onChange:T=>w({...p,password:T.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-900 focus:border-transparent outline-none pr-12",required:!_,minLength:8}),o.jsx("button",{type:"button",onClick:()=>m(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:g?o.jsx(Ug,{className:"w-5 h-5"}):o.jsx(Dg,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:_?"User will be required to change password on next login if updated":"Minimum 8 characters. User will be required to change on first login."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Role *"}),o.jsx("div",{className:"space-y-2",children:Yu.map(T=>o.jsxs("label",{className:"flex items-start gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"role",value:T.value,checked:p.role===T.value,onChange:M=>w({...p,role:M.target.value}),className:"mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-slate-900",children:T.label}),o.jsx("div",{className:"text-xs text-slate-500",children:T.description})]})]},T.value))})]}),!["administrator","super_administrator"].includes(p.role)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campus Access"}),o.jsx("div",{className:"border border-slate-200 rounded-lg p-3 space-y-2 max-h-48 overflow-y-auto",children:i.length===0?o.jsx("p",{className:"text-sm text-slate-500",children:"No campuses available"}):i.map(T=>o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p.selectedCampuses.includes(T.id),onChange:M=>{M.target.checked?w({...p,selectedCampuses:[...p.selectedCampuses,T.id]}):w({...p,selectedCampuses:p.selectedCampuses.filter(E=>E!==T.id)})},className:"rounded"}),o.jsx("span",{className:"text-sm text-slate-900",children:T.name})]},T.id))})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p.active,onChange:T=>w({...p,active:T.target.checked}),className:"rounded"}),o.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Active User"})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-slate-700 hover:bg-slate-100 rounded-lg transition",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition",children:_?"Update User":"Create User"})]})]})]})})]})}function sy(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Audit Logs"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"View system activity and audit trail"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-4",children:o.jsx(Uh,{className:"w-8 h-8 text-slate-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Audit Trail"}),o.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"Complete history of all system actions, user activities, and changes for compliance and security."})]})})]})}function iy(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Error Reports"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Monitor and resolve system errors"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-4",children:o.jsx(Lh,{className:"w-8 h-8 text-slate-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Error Monitoring"}),o.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"Track, monitor, and resolve system errors and exceptions for optimal system health."})]})})]})}function ay(){const[t,e]=C.useState(!1),n=async i=>{e(!0);try{const[a,l,u,c,d,h]=await Promise.all([I.from("campuses").select("*"),I.from("buildings").select("*"),I.from("key_systems").select("*"),I.from("keys").select("*"),I.from("user_profiles").select("id, net_id, full_name, email, role, active, created_at"),I.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(1e3)]),f={export_date:new Date().toISOString(),campuses:a.data||[],buildings:l.data||[],key_systems:u.data||[],keys:c.data||[],users:d.data||[],audit_logs:h.data||[]};if(i==="json"){const x=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),y=URL.createObjectURL(x),_=document.createElement("a");_.href=y,_.download=`database-export-${new Date().toISOString().split("T")[0]}.json`,_.click(),URL.revokeObjectURL(y)}else r("campuses",a.data||[]),r("buildings",l.data||[]),r("key_systems",u.data||[]),r("keys",c.data||[]),r("users",d.data||[]),r("audit_logs",h.data||[]);alert(`Database exported successfully as ${i.toUpperCase()}!`)}catch(a){console.error("Error exporting data:",a),alert("Error exporting data. Please try again.")}finally{e(!1)}},r=(i,a)=>{if(a.length===0)return;const l=Object.keys(a[0]),u=a.map(x=>l.map(y=>{const _=x[y];return _==null?"":typeof _=="object"?JSON.stringify(_):String(_)})),c=[l,...u].map(x=>x.map(y=>`"${String(y).replace(/"/g,'""')}"`).join(",")).join(`
`),d=new Blob([c],{type:"text/csv"}),h=URL.createObjectURL(d),f=document.createElement("a");f.href=h,f.download=`${i}-${new Date().toISOString().split("T")[0]}.csv`,f.click(),URL.revokeObjectURL(h)},s=async(i,a)=>{try{const{data:l,error:u}=await I.from(i).select("*");if(u)throw u;const c=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),h=document.createElement("a");h.href=d,h.download=`${i}-${new Date().toISOString().split("T")[0]}.json`,h.click(),URL.revokeObjectURL(d),alert(`${a} exported successfully!`)}catch(l){console.error("Error exporting table:",l),alert(`Error exporting ${a}. Please try again.`)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Backup & Export"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Manage data backups and exports"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"bg-slate-900 p-3 rounded-lg",children:o.jsx(vo,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Full Database Export"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Export all data in JSON or CSV format"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>n("json"),disabled:t,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Mg,{className:"w-5 h-5"}),o.jsx("span",{children:t?"Exporting...":"Export All Data (JSON)"})]}),o.jsxs("button",{onClick:()=>n("csv"),disabled:t,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(zg,{className:"w-5 h-5"}),o.jsx("span",{children:t?"Exporting...":"Export All Data (CSV)"})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:o.jsxs("p",{className:"text-xs text-slate-600",children:[o.jsx("strong",{children:"Note:"})," JSON export creates a single file with all tables. CSV export creates separate files for each table."]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:o.jsx(Vr,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Individual Table Export"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Export specific tables as JSON"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>s("campuses","Campuses"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Export Campuses"}),o.jsx("button",{onClick:()=>s("buildings","Buildings"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Export Buildings"}),o.jsx("button",{onClick:()=>s("key_systems","Key Systems"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Export Key Systems"}),o.jsx("button",{onClick:()=>s("keys","Keys"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Export Keys"}),o.jsx("button",{onClick:()=>s("user_profiles","Users"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Export Users"}),o.jsx("button",{onClick:()=>s("audit_logs","Audit Logs"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg transition border border-slate-200",children:"Export Audit Logs"})]})]})]}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Wg,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-amber-900 mb-2",children:"Data Import"}),o.jsx("p",{className:"text-sm text-amber-800 mb-3",children:"To import data, use the individual management pages (Campuses, Buildings, Keys, etc.) where you can add items one by one."}),o.jsxs("p",{className:"text-xs text-amber-700",children:[o.jsx("strong",{children:"For keys:"})," Use the Keys page where you can add individual keys with all required information."]})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Export Information"}),o.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-medium text-slate-900 min-w-[120px]",children:"JSON Format:"}),o.jsx("span",{children:"Complete data export with all relationships and metadata. Best for backups and data migration."})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-medium text-slate-900 min-w-[120px]",children:"CSV Format:"}),o.jsx("span",{children:"Spreadsheet-compatible format. Best for analysis in Excel, Google Sheets, or other tools."})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-medium text-slate-900 min-w-[120px]",children:"Data Included:"}),o.jsx("span",{children:"Campuses, Buildings, Key Systems, Keys, Users (without passwords), and recent Audit Logs."})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"font-medium text-slate-900 min-w-[120px]",children:"Security:"}),o.jsx("span",{children:"Password hashes and sensitive authentication data are never included in exports."})]})]})]})]})}function oy(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"System Configuration"}),o.jsx("p",{className:"text-slate-600 mt-1",children:"Configure system settings and preferences"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-full mb-4",children:o.jsx(Dh,{className:"w-8 h-8 text-slate-600"})}),o.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"System Settings"}),o.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"Configure system-wide settings, preferences, and customization options."})]})})]})}function ly(){const{user:t,profile:e,loading:n}=st(),[r,s]=C.useState("dashboard"),[i,a]=C.useState(!1),[l,u]=C.useState(!0);C.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await fetch("https://ddqayedrbldmaqkbkuro.supabase.co/functions/v1/check-setup",{method:"GET",headers:{"Content-Type":"application/json"}}),x=await f.json();f.ok?a(x.needsSetup):(console.error("Error checking setup:",x.error),a(!1))}catch(h){console.error("Error checking setup:",h),a(!1)}finally{u(!1)}};if(n||l)return o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-slate-900 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-600",children:"Loading..."})]})});if(i)return o.jsx(Vg,{});if(!t||!e)return o.jsx(Jg,{});if(e.temporary_password)return o.jsx(Gg,{});const d=()=>{switch(r){case"dashboard":return o.jsx(Qu,{});case"campuses":return o.jsx(Yg,{});case"buildings":return o.jsx(Xg,{});case"key-systems":return o.jsx(Zg,{});case"keys":return o.jsx(ey,{});case"reports":return o.jsx(ty,{});case"users":return o.jsx(ry,{});case"audit-logs":return o.jsx(sy,{});case"error-reports":return o.jsx(iy,{});case"backup":return o.jsx(ay,{});case"system-config":return o.jsx(oy,{});default:return o.jsx(Qu,{})}};return o.jsx(Qg,{currentView:r,onNavigate:s,children:d()})}function uy(){return o.jsx(Ig,{children:o.jsx(ly,{})})}ch(document.getElementById("root")).render(o.jsx(C.StrictMode,{children:o.jsx(uy,{})}));
